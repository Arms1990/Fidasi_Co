/*! For license information please see views-app.3e7679fe.chunk.js.LICENSE.txt */
(this["webpackJsonpback-office"]=this["webpackJsonpback-office"]||[]).push([[12],{204:function(e,t,a){"use strict";a.d(t,"h",(function(){return d})),a.d(t,"f",(function(){return j})),a.d(t,"e",(function(){return I})),a.d(t,"d",(function(){return M})),a.d(t,"t",(function(){return at})),a.d(t,"o",(function(){return bt})),a.d(t,"i",(function(){return Mt})),a.d(t,"l",(function(){return me})),a.d(t,"n",(function(){return Oe})),a.d(t,"a",(function(){return Fe})),a.d(t,"j",(function(){return He})),a.d(t,"b",(function(){return Be})),a.d(t,"k",(function(){return Ye})),a.d(t,"g",(function(){return Ue})),a.d(t,"c",(function(){return qe})),a.d(t,"q",(function(){return Qe})),a.d(t,"s",(function(){return yt})),a.d(t,"p",(function(){return wt})),a.d(t,"r",(function(){return _t})),a.d(t,"m",(function(){return At}));var n=a(1),r=a.n(n),s=a(97),l=a.n(s),c=a(96),o=a(23);class i extends r.a.Component{render(){const e=this.props.options;let t=[];return e.forEach((function(e,a){t.push(r.a.createElement("option",{key:a,value:e.created_at},e.created_at))})),t}}class m extends r.a.Component{constructor(e){super(e),this.renderCheckBox=(e,t)=>r.a.createElement("div",{key:t,className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",onChange:t=>this.setState({[e.id]:t.target.checked}),name:e.id,id:e.id,checked:!!this.state[e.id],value:this.state[e.id]}),r.a.createElement("label",{className:"form-check-label",htmlFor:e.id},r.a.createElement("span",null,e.placeholder))),this.renderDDL=(e,t)=>r.a.createElement("select",{key:t,onChange:t=>this.setState({[e.id]:t.target.value}),name:e.id,id:e.id,value:this.state[e.id],className:"form-control mr-sm-2 filter-input"},r.a.createElement("option",{value:""},e.placeholder),r.a.createElement(i,{options:e.values})),this.renderTextField=(e,t)=>{let a="text";return"number"===e.type&&(a="number"),"time_picker"===e.type&&(a="time"),"date_picker"===e.type&&(a="date"),r.a.createElement("input",{key:t,type:a,onChange:t=>this.setState({[e.id]:t.target.value}),className:"form-control mr-sm-2 filter-input",id:e.id,name:e.id,value:this.state[e.id]||"",placeholder:e.placeholder})},this.filter=e=>{e.preventDefault();const t=this.props,a=t.slug,n=t.token,r=t.baseURL,s=t.clientID;let c=this,o=this.filterForm,i=l()(o).serializeArray().filter((function(e){return null!=e.value&&""!==e.value}));l.a.ajax({url:"".concat(r,"/details"),headers:{Authorization:"Bearer ".concat(n)},data:{elementType:"filters",page_slug:a,client_id:s,filters:i},success:function(e){return c.props.onFiltersApplied(e.details)}})},this.state={content:[]},this.filterForm=r.a.createRef()}componentDidMount(){return this.props.filters.forEach((e,t)=>{void 0===this.state[e.id]&&this.setState({[e.id]:e.value})})}render(){return r.a.createElement("form",{className:"form-inline mb-5",ref:e=>this.filterForm=e,onSubmit:e=>this.filter(e)},r.a.createElement("div",{className:"w-100 d-flex align-items-center justify-content-center"},this.props.filters.map((e,t)=>"ddl"===e.type?this.renderDDL(e,t):"boolean"===e.type?this.renderCheckBox(e,t):this.renderTextField(e,t)),this.props.filters.length>0?r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg mb-2"},"Filter"):null))}}var d=Object(c.g)(Object(o.b)(({authUser:e,menu:t})=>{const a=t.containerClassnames;return{baseURL:e.baseURL,token:e.token,clientID:e.clientID,containerClassnames:a}},{})(m)),u=a(5),p=a(4),h=a.n(p),g=a(15),b=a(95),f=a(98),E=(a(343),a(187)),v=a.n(E),y=(a(188),a(229),a(344),a(230),a(345),a(346),a(348),a(341)),k=a(804);var w={productListPriceCalculator:({products:e})=>{let t=e.reduce((e,t)=>e+parseInt(t.price,10),0);return r.a.createElement("div",{className:"col-sm-6 col-lg-4 col-xl-3 mt-1 mb-3"},r.a.createElement(y.a,{className:""},r.a.createElement(k.a,{className:"text-center"},r.a.createElement("i",{className:"h1 text-primary iconsminds-shopping-cart"}),r.a.createElement("p",{className:"h3 font-weight-light card-text mb-3"},"Total Price"),r.a.createElement("p",{className:"lead text-primary text-center"},"$",t))))},exampleRedirect:()=>window.location="/app/profilo"},N=l.a.fn.dataTable;l.a.extend(!0,N.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-primary btn-sm"},collection:{tag:"div",className:"dropdown-menu",button:{tag:"a",className:"dt-button dropdown-item",active:"active",disabled:"disabled"}}},buttonCreated:function(e,t){return e.buttons?l()('<div class="btn-group"/>').append(t):t}}),N.ext.buttons.collection.className+=" dropdown-toggle",N.ext.buttons.collection.rightAlignClassName="dropdown-menu-right";var C=a(831),x=a(807),O=a(17);l.a.fn.dataTableExt.oStdClasses.sFilterInput="form-control",l.a.fn.dataTableExt.oStdClasses.sLengthSelect="w-auto mx-2";class S extends r.a.Component{constructor(e){super(e),this.toggle=()=>this.setState({isOpen:!this.state.isOpen}),this.state={isOpen:!1,modalContent:[]}}refresh(){return this.setState({isOpen:!1,modalContent:[]})}componentDidMount(){var e=this;return Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.drawTable();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}drawTable(){var e=this;return Object(g.a)(h.a.mark((function t(){var a,n,s,c,o,i,m,d,p,E;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.slug,s=a.token,c=a.user,o=a.baseURL,i=a.clientID,m=a.component,d=a.filters,c="string"===typeof c?JSON.parse(c):c,p=e,E={responsive:!0,processing:!0,serverSide:!0,search:{regex:!1,smart:!0,caseInsensitive:!0},columns:m.columns.map((function(e,t){return{type:e.attributes.type,name:[e.as],required:-1===e.as.search("password")&&e.attributes.required,readonly:e.attributes.readonly,excluded:e.attributes.excluded,visible:-1===e.as.search("password")&&e.attributes.visible,protected:e.attributes.protected,data:[e.as],render:function(t,a,n,r){if(e.attributes.kind&&"file"===e.attributes.kind){const a=e.attributes.label,n=a.as,r=a.content;return"icon"===n?'<a href="'.concat(o,"/download?file=").concat(t,'" download class="btn btn-link text-decoration-none p-0"><i class="').concat(r,'"></i></a>'):'<a href="'.concat(o,"/download?file=").concat(t,'" download class="btn btn-link p-0">').concat(r,"</a>")}return t}}})),pagingType:"full_numbers",dom:"<'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 col-md-3'l><'col-sm-12 col-md-9 text-right d-sm-flex justify-content-end align-items-center'<'mb-2 mr-2'B>f>><'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12'tr>><'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 col-md-6'i><'col-sm-12 col-md-6 text-right'p>>",select:{info:!1},buttons:m.buttons?{dom:{container:{className:"dt-buttons btn-group"}},buttons:m.buttons.map(e=>{let t={text:e.label,name:e.action};return"export"!==e.action&&"add"!==e.action&&(t.extend="selected"),"export"===e.action?(t.extend=e.format,t.filename=Math.random().toString(36).substring(7),t.exportOptions={modifier:{page:"current"}},t.action=function(e,t,a,n){let r=t.page.info();return r.entityName=m.entityName,v.a.prompt({title:"Please re-enter your password to continue...",inputType:"password",callback:function(s){if(s)return Object(O.a)("".concat(o,"/api/user/authorize"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:c.user_id,password:s,action:"csv_export",payload:JSON.stringify(r)})}).then(e=>e.json()).then(r=>r.matched?l.a.fn.dataTable.ext.buttons.csvHtml5.action.call(t.button(a),e,t,a,n):b.a.error(r.message,"Authorization Failed",3e3,null,null,"")).catch(e=>console.error(e))}})},t.key={key:"e",ctrlKey:!0,shiftKey:!0}):t.action=function(){var t=Object(g.a)(h.a.mark((function t(a,l,m,g){var E,v,y,k,w,N;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E={},v=l.rows({selected:!0}).data()[0],d&&(d.forEach(e=>E[e.name]=e.value),v=Object(u.a)(Object(u.a)({},v),E)),t.prev=3,t.next=6,Object(O.a)("".concat(o,"/details?elementID=").concat(e.element,"&elementType=modal&page_slug=").concat(n,"&client_id=").concat(i),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(s)}});case 6:if((y=t.sent).ok){t.next=9;break}return t.abrupt("return",y.statusText);case 9:return t.next=11,y.json();case 11:k=t.sent,w=k.components,N=w.map((e,t)=>"wizard"===e.type?r.a.createElement(f.a,{key:t,customData:v,callback:()=>{l.draw(),p.refresh()},token:s,baseURL:o,clientID:i,user:c,component:e}):null),p.setState({isOpen:!0,modalContent:N}),t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(3),t.abrupt("return",b.a.error(t.t0.message,"Oops! We got a problem.",3e3,null,null,""));case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e,a,n,r){return t.apply(this,arguments)}}(),"add"===e.action&&(t.key={key:"a",ctrlKey:!0,shiftKey:!0}),"edit"===e.action&&(t.key={key:"e",ctrlKey:!0,shiftKey:!1}),"delete"===e.action&&(t.key={key:"d",ctrlKey:!0,shiftKey:!0}),t})}:[],ajax:{url:"".concat(o,"/details"),headers:{Authorization:"Bearer ".concat(s)},data:function(e){return e.elementID=m.id,e.elementType="dataTable",e.page_slug=n,e.client_id=i,e.filters=d,e}},language:{searchPlaceholder:"Search...",sSearch:"",lengthMenu:"_MENU_ items/page"}},l()(".".concat(m.id)).DataTable(E);case 5:case"end":return t.stop()}}),t)})))()}render(){const e=this.props,t=e.component.legend,a=e.identifier,n=this.state,s=n.isOpen,l=n.modalContent;return r.a.createElement("div",{className:"card table-wrapper my-5",ref:this.table},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1))),r.a.createElement("table",{className:"table table-hover w-100 ".concat(a)},r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.component.columns.map((e,t)=>r.a.createElement("th",{key:t},e.label))))),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions())),r.a.createElement(C.a,{isOpen:s,size:"xl",fade:!0,toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-0"},l)))}}var j=S;const P=function(e){for(var t=e.concat(),a=0;a<t.length;++a)for(var n=a+1;n<t.length;++n)t[a]===t[n]&&t.splice(n--,1);return t};l.a.fn.dataTableExt.oStdClasses.sFilterInput="form-control",l.a.fn.dataTableExt.oStdClasses.sLengthSelect="w-auto mx-2";class _ extends r.a.Component{constructor(e){super(e),this.toggle=()=>this.setState({isOpen:!this.state.isOpen}),this.tableRef=r.a.createRef(),this.state={isOpen:!1,modalContent:[]}}componentDidMount(){this.drawTable()}refresh(){return this.setState({isOpen:!1,modalContent:[]})}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}format(e){let t='<table class="table table-layout-fixed table-striped w-100" data-table-id="'.concat(e.id,'">')+"<thead><tr>";return e.columns.forEach(e=>t+="<th>".concat(e.label,"</th>")),t+="</tr></thead></table>",t}drawTable(){let e=this.props,t=e.slug,a=e.token,n=e.user,s=e.baseURL,c=e.clientID,o=e.clientSecret,i=e.component,m=e.filters;n="string"===typeof n?JSON.parse(n):n;let d={responsive:{details:!1},processing:!0,serverSide:!0,search:{regex:!0,smart:!0,caseInsensitive:!0},pagingType:"full_numbers",dom:"<'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 col-md-3'l><'col-sm-12 col-md-9 text-right d-sm-flex justify-content-end align-items-center'<'mb-2 mr-2'B>f>><'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 table-responsive'tr>><'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 col-md-6'i><'col-sm-12 col-md-6 text-right'p>>",columns:i.columns.map((function(e,t){return{data:null,name:e.identifier,type:e.attributes.type,readonly:e.attributes.readonly,excluded:e.attributes.excluded,protected:e.attributes.protected,required:"password"!==e.identifier&&e.attributes.required,visible:"password"!==e.identifier,render:function(t,a,n,r){if(e.inDrillDown&&!0===e.inDrillDown)return'<span class="details-control" data-filters=\'[{ "name": "'.concat(e.as,'", "value": "').concat(t.data[e.as],'" }]\' data-rel="').concat(e.rel,'"></span><span class="d-table-cell pl-3">').concat(t.data[e.as],"</span>");if(e.inModal&&!0===e.inModal){if(t.data[e.key]){let a=JSON.stringify(Object.entries(t.data[e.key]).map(e=>({name:e[0],value:e[1]})));return'<a href="#" class="dynamic-modal text-primary" data-filters=\''.concat(a,"' data-rel=\"").concat(e.rel,'"><div class="simple-icon-magnifier"></div></a>')}return'<a href="#" class="dynamic-modal text-primary" data-filters=\'[]\' data-rel="'.concat(e.rel,'"><div class="simple-icon-magnifier"></div></a>')}return t.data[e.as]}}})),select:{info:!1},altEditor:!0,onAddRow:(e,n,r,m)=>(n.push({name:"client_secret",value:o}),l.a.ajax({url:"".concat(s,"/details"),type:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:{page_slug:t,entityName:i.entityName,client_id:c,data:Object.values(n)},error:e=>m(e),success:e=>r(e.data)})),onEditRow:(e,n,r,m)=>(n.push({name:"client_secret",value:o}),l.a.ajax({url:"".concat(s,"/details"),type:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:{page_slug:t,entityName:i.entityName,client_id:c,data:Object.values(n)},error:e=>m(e),success:e=>r(e.data)})),onDeleteRow:(e,n,r,m)=>(n.push({name:"client_secret",value:o}),l.a.ajax({url:"".concat(s,"/details"),type:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:{page_slug:t,entityName:i.entityName,client_id:c,data:Object.values(n)},error:e=>m(e),success:e=>r(e.message)})),buttons:i.buttons?{dom:{container:{className:"dt-buttons btn-group"}},buttons:i.buttons.map(e=>{let o={text:e.label,name:e.action};return"export"!==e.action&&"add"!==e.action&&(o.extend="selected"),"export"===e.action?(o.extend=e.format,o.filename=Math.random().toString(36).substring(7),o.exportOptions={modifier:{page:"current"}},o.action=function(e,t,a,r){let c=t.page.info();return c.entityName=i.entityName,v.a.prompt({title:"Please re-enter your password to continue...",inputType:"password",callback:function(o){if(o)return Object(O.a)("".concat(s,"/api/user/authorize"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:n.user_id,password:o,action:"csv_export",payload:JSON.stringify(c)})}).then(e=>e.json()).then(n=>n.matched?l.a.fn.dataTable.ext.buttons.csvHtml5.action.call(t.button(a),e,t,a,r):b.a.error(n.message,"Authorization Failed",3e3,null,null,"")).catch(e=>console.error(e))}})},o.key={key:"e",ctrlKey:!0,shiftKey:!0}):o.action=function(){var l=Object(g.a)(h.a.mark((function l(o,i,m,d){var u,p,g,v,y;return h.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return u=i.rows({selected:!0}).data()[0]?i.rows({selected:!0}).data()[0].data:[],l.prev=1,l.next=4,Object(O.a)("".concat(s,"/details?elementID=").concat(e.element,"&elementType=modal&page_slug=").concat(t,"&client_id=").concat(c),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});case 4:if((p=l.sent).ok){l.next=7;break}return l.abrupt("return",p.statusText);case 7:return l.next=9,p.json();case 9:g=l.sent,v=g.components,y=v.map((e,t)=>"wizard"===e.type?r.a.createElement(f.a,{key:t,customData:u,callback:()=>{i.draw(),E.refresh()},token:a,baseURL:s,clientID:c,user:n,component:e}):null),E.setState({isOpen:!0,modalContent:y}),l.next=18;break;case 15:return l.prev=15,l.t0=l.catch(1),l.abrupt("return",b.a.error(l.t0.message,"Oops! We got a problem.",3e3,null,null,""));case 18:case"end":return l.stop()}}),l,null,[[1,15]])})));return function(e,t,a,n){return l.apply(this,arguments)}}(),"add"===e.action&&(o.key={key:"a",ctrlKey:!0,shiftKey:!0}),"edit"===e.action&&(o.key={key:"e",ctrlKey:!0,shiftKey:!1}),"delete"===e.action&&(o.key={key:"d",ctrlKey:!0,shiftKey:!0}),o})}:[],ajax:{url:"".concat(s,"/details"),headers:{Authorization:"Bearer ".concat(a)},data:function(e){return e.elementID=i.id,e.elementType="ddl",e.page_slug=t,e.client_id=c,e.filters=m,e}},language:{searchPlaceholder:"Search...",sSearch:"",lengthMenu:"_MENU_ items/page"}},p=this.tableRef.current;l.a.fn.dataTable.isDataTable(p)||l()(p).dataTable(d);let E=this;l()(document).off("click",".details-control"),l()(document).on("click",".details-control",(function(){p=l()(this).closest("table");let e=l()(this).closest("tr"),o=l()(p).DataTable().row(e),i=l()(this).data("filters"),m=l()(this).data("rel");if(o.child.isShown())o.child.hide(),e.removeClass("shown");else{let d=l()(".filter-form").serializeArray();l.a.ajax({url:"".concat(s,"/details"),headers:{Authorization:"Bearer ".concat(a)},data:{elementType:"ddl",elementID:m,page_slug:t,client_id:c,filters:P([...d,...i])},success:function(){var p=Object(g.a)(h.a.mark((function p(y){var k;return h.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:k=y.rowData,o.child(E.format(k)).show(),e.addClass("shown"),l()(o.child()).find('table[data-table-id="'.concat(k.id,'"]')).DataTable({responsive:!0,processing:!0,serverSide:!0,autoWidth:!1,search:{regex:!1,smart:!0,caseInsensitive:!0},columns:k.columns.map((function(e,t){return{data:null,name:e.identifier,type:e.attributes.type,readonly:e.attributes.readonly,excluded:e.attributes.excluded,protected:e.attributes.protected,required:"password"!==e.identifier&&e.attributes.required,visible:"password"!==e.identifier,render:function(t,a,n,r){if(e.inDrillDown&&!0===e.inDrillDown)return'<span class="details-control" data-filters=\'[{ "name": "'.concat(e.identifier,'", "value": "').concat(t.data[e.identifier],'" }]\' data-rel="').concat(e.rel,'"></span><span class="d-table-cell pl-3">').concat(t.data[e.identifier],"</span>");if(e.inModal&&!0===e.inModal){let a=JSON.stringify(Object.entries(t.data[e.key]).map(e=>({name:e[0],value:e[1]})));return'<a href="#" class="dynamic-modal text-primary" data-filters=\''.concat(a,"' data-rel=\"").concat(e.rel,'"><div class="simple-icon-magnifier"></div></a>')}return t.data[e.identifier]}}})),pagingType:"full_numbers",dom:"<'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 col-md-3'l><'col-sm-12 col-md-9 text-right d-sm-flex justify-content-end align-items-center'<'mb-2 mr-2'B>f>><'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 table-responsive'tr>><'row no-gutters align-items-center justify-content-around mx-0'<'col-sm-12 col-md-6'i><'col-sm-12 col-md-6 text-right'p>>",select:{info:!1},altEditor:!0,onAddRow:(e,t,n,r)=>l.a.ajax({url:"".concat(s,"/details"),type:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:{page_slug:k.entityName,client_id:c,data:Object.values(t)},error:e=>r(e),success:e=>n(e.data)}),onEditRow:(e,t,n,r)=>l.a.ajax({url:"".concat(s,"/details"),type:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:{page_slug:k.entityName,client_id:c,data:Object.values(t)},error:e=>r(e),success:e=>n(e.data)}),onDeleteRow:(e,t,n,r)=>l.a.ajax({url:"".concat(s,"/details"),type:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:{page_slug:k.entityName,client_id:c,data:Object.values(t)},error:e=>r(e),success:e=>n(e.message)}),buttons:k.buttons?{dom:{container:{className:"dt-buttons btn-group"}},buttons:k.buttons.map(e=>{let o={text:e.label,name:e.action};return"export"!==e.action&&"add"!==e.action&&(o.extend="selected"),"export"===e.action?(o.extend=e.format,o.filename=Math.random().toString(36).substring(7),o.exportOptions={modifier:{page:"current"}},o.action=function(e,t,a,r){return t.page.info().entityName=k.entityName,v.a.prompt({title:"Please re-enter your password to continue...",inputType:"password",callback:function(c){if(c)return Object(O.a)("".concat(s,"/api/user/authorize"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:n.user_id,password:c})}).then(e=>e.json()).then(n=>n.matched?l.a.fn.dataTable.ext.buttons.csvHtml5.action.call(t.button(a),e,t,a,r):b.a.error(n.message,"Authorization Failed",3e3,null,null,"")).catch(e=>console.error(e))}})},o.key={key:"e",ctrlKey:!0,shiftKey:!0}):o.action=function(){var l=Object(g.a)(h.a.mark((function l(o,m,d,p){var g,v,y,k,w;return h.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return g=m.rows({selected:!0}).data()[0]?m.rows({selected:!0}).data()[0].data:[],l.prev=1,l.next=4,Object(O.a)("".concat(s,"/details?elementID=").concat(e.element,"&elementType=modal&page_slug=").concat(t,"&client_id=").concat(c),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});case 4:if((v=l.sent).ok){l.next=7;break}return l.abrupt("return",v.statusText);case 7:return l.next=9,v.json();case 9:y=l.sent,k=y.components,w=k.map((e,t)=>"wizard"===e.type?r.a.createElement(f.a,{key:t,customData:Object(u.a)(Object(u.a)({},i.reduce((e,t)=>Object(u.a)(Object(u.a)({},e),{},{[t.name]:t.value}),{})),g),callback:()=>{m.draw(),E.refresh()},token:a,baseURL:s,clientID:c,user:n,component:e}):null),E.setState({isOpen:!0,modalContent:w}),l.next=18;break;case 15:return l.prev=15,l.t0=l.catch(1),l.abrupt("return",b.a.error(l.t0.message,"Oops! We got a problem.",3e3,null,null,""));case 18:case"end":return l.stop()}}),l,null,[[1,15]])})));return function(e,t,a,n){return l.apply(this,arguments)}}(),"add"===e.action&&(o.key={key:"a",ctrlKey:!0,shiftKey:!0}),"edit"===e.action&&(o.key={key:"e",ctrlKey:!0,shiftKey:!1}),"delete"===e.action&&(o.key={key:"d",ctrlKey:!0,shiftKey:!0}),o})}:[],ajax:{url:"".concat(s,"/details"),headers:{Authorization:"Bearer ".concat(a)},data:function(e){return e.elementID=m,e.elementType="ddl",e.page_slug=t,e.client_id=c,e.filters=P([...d,...i]),e}},language:{searchPlaceholder:"Search...",sSearch:"",lengthMenu:"_MENU_ items/page"}});case 4:case"end":return p.stop()}}),p)})));return function(e){return p.apply(this,arguments)}}()})}})),l()(document).off("click",".dynamic-modal"),l()(document).on("click",".dynamic-modal",(function(e){e.preventDefault();let i=l()(this).data("rel"),m=l()(this).data("filters"),d=l()(".filter-form").serializeArray(),u=P([...d,...m]);l.a.ajax({url:"".concat(s,"/details"),headers:{Authorization:"Bearer ".concat(a)},data:{elementType:"modal",elementID:i,page_slug:t,client_id:c,filters:u},success:function(e){let l=e.components.map((function(e,l){if("datatable"===e.type)return r.a.createElement(j,{slug:t,token:a,user:n,clientSecret:o,baseURL:s,clientID:c,identifier:e.id,key:l,filters:u,component:e});if("ddl"===e.type)return r.a.createElement(_,{slug:t,token:a,user:n,clientSecret:o,baseURL:s,clientID:c,identifier:e.id,key:l,filters:u,component:e});if("chart"===e.type){const t=e.kind;return"pie"===t?r.a.createElement("div",{key:l},r.a.createElement(Ye,{shadow:!0,component:e})):"bar"===t?r.a.createElement("div",{key:l},r.a.createElement(Be,{shadow:!0,component:e})):r.a.createElement("div",{key:l},r.a.createElement(Fe,{shadow:!0,component:e}))}return r.a.createElement("div",{key:l})}));E.setState({isOpen:!0,modalContent:l})}})}))}render(){const e=this.props,t=e.component.legend,a=e.identifier,n=this.state,s=n.isOpen,l=n.modalContent;return r.a.createElement("div",{className:"card table-wrapper my-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1))),r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("table",{ref:this.tableRef,className:"table table-hover w-100 ".concat(a)},r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.component.columns.map((e,t)=>r.a.createElement("th",{key:t},e.label)))))),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions())),r.a.createElement(C.a,{isOpen:s,size:"xl",fade:!0,toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"py-0 px-4"},l)))}}var I=_;class A extends r.a.Component{componentDidMount(){this.drawCard()}drawCard(){}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}render(){const e=this.props.component,t=e.children,a=e.title,n=e.description,s=e.fullWidth,l=e.transparent,c=e.image,o=t.map((e,a)=>{const n=e.type;if("chart"===n){const n=e.kind;if("pie"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:l?null:"shadow-none",shadow:l,component:e}));if("bar"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:l?null:"shadow-none",shadow:l,component:e}));if("area"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:l?null:"shadow-none",shadow:l,component:e}));if("line"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:l?null:"shadow-none",shadow:l,component:e}));if("doughnut"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:l?null:"shadow-none",shadow:l,component:e}))}if("calendar"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:e}));if("table"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:e}));if("card"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-7",key:a},r.a.createElement(A,Object.assign({},this.props,{component:e})));if("productDescriptionText"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(At,Object.assign({},this.props,{component:e})));if("iconCard"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-7",key:a},r.a.createElement(Mt,Object.assign({},this.props,{component:e})));if("wizard"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:e})));if("productCardList"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:e})));if("productList"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:e})));if("userCard"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:e})));if("profileCard"===n)return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:e})));if("thumbCarousel"===n){const n=e.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,transparent:l,component:e})))}return"search"===n?r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:e}))):"tabs"===n?r.a.createElement("div",{className:s?"w-100":1===t.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:e}))):null});return l?r.a.createElement("div",{className:"card bg-transparent shadow-none my-0"},r.a.createElement("div",{className:"card-body py-0"},r.a.createElement("div",{className:"row align-items-stretch justify-content-center"},o))):r.a.createElement("div",{className:"card rounded-lg my-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title text-muted mb-0"},r.a.createElement("img",{className:"img-fluid list-thumbnail small mr-3",src:c,alt:a}),r.a.createElement("span",null,a?a.charAt(0).toUpperCase()+a.slice(1):null),n?r.a.createElement("div",{className:"d-inline"},r.a.createElement("span",null," \u2014 "),r.a.createElement("span",{className:"opacity-50"},n?n.charAt(0).toUpperCase()+n.slice(1):null)):null),s?r.a.createElement("div",null,o):r.a.createElement("div",{className:"row align-items-stretch justify-content-center"},o)))}}var M=A,z=(a(179),a(300),a(299),a(221)),L=a(139),D=a(85),T=a.n(D);n.Component;var R=a(231),F=a(113);var B=({onContextMenu:e,onContextMenuClick:t})=>r.a.createElement(F.a,{id:"menu_id",onShow:t=>e(t,t.detail.data)},r.a.createElement(F.c,{onClick:t,data:{action:"copy"}},r.a.createElement("i",{className:"simple-icon-docs"})," ",r.a.createElement("span",null,"Copy")),r.a.createElement(F.c,{onClick:t,data:{action:"move"}},r.a.createElement("i",{className:"simple-icon-drawer"})," ",r.a.createElement("span",null,"Move to archive")),r.a.createElement(F.c,{onClick:t,data:{action:"delete"}},r.a.createElement("i",{className:"simple-icon-trash"})," ",r.a.createElement("span",null,"Delete"))),U=a(335),H=a(212),Y=a(794),W=a(795),V=a(796),K=a(797),q=a(798),J=a(103),Z=a(92),X=a(99),G=a(269);class $ extends n.Component{constructor(e){super(),this.toggleDisplayOptions=()=>{this.setState(e=>({displayOptionsIsOpen:!e.displayOptionsIsOpen}))},this.toggleSplit=()=>{this.setState(e=>({dropdownSplitOpen:!e.dropdownSplitOpen}))},this.state={dropdownSplitOpen:!1,displayOptionsIsOpen:!1}}render(){const e=this.props.intl.messages,t=this.props,a=t.displayMode,n=t.changeDisplayMode,s=t.changeOrderBy,l=t.changePageSize,c=t.selectedPageSize,o=t.totalItemCount,i=t.selectedOrderOption,m=t.startIndex,d=t.endIndex,u=t.onSearchKey,p=t.orderOptions,h=t.pageSizes,g=t.heading,b=t.inWizard,f=t.inCard,E=this.state.displayOptionsIsOpen;return r.a.createElement(U.a,null,r.a.createElement(Z.a,{xxs:"12"},b||f?null:r.a.createElement("div",{className:"mb-2"},r.a.createElement("h1",null,g)),r.a.createElement("div",{className:"mb-2"},r.a.createElement(H.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:this.toggleDisplayOptions},"Display Options",r.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),r.a.createElement(Y.a,{isOpen:E,className:"d-md-block",id:"displayOptions"},r.a.createElement("span",{className:"mr-3 d-inline-block float-md-left"},r.a.createElement("a",{href:"#/",className:"mr-2 view-icon ".concat("list"===a?"active":""),onClick:()=>n("list")},r.a.createElement(G.a,null)),r.a.createElement("a",{href:"#/",className:"mr-2 view-icon ".concat("thumblist"===a?"active":""),onClick:()=>n("thumblist")},r.a.createElement(G.e,null)),r.a.createElement("a",{href:"#/",className:"mr-2 view-icon ".concat("imagelist"===a?"active":""),onClick:()=>n("imagelist")},r.a.createElement(G.b,null))),r.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},r.a.createElement(W.a,{className:"mr-1 float-md-left btn-group mb-1"},r.a.createElement(V.a,{caret:!0,color:"outline-dark",size:"xs"},r.a.createElement(X.a,{id:"pages.orderby"}),i.label),r.a.createElement(K.a,null,p.map((e,t)=>r.a.createElement(q.a,{key:t,onClick:()=>s(e.column)},e.label)))),r.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},r.a.createElement("input",{type:"text",name:"keyword",id:"search",placeholder:e["menu.search"],onKeyPress:e=>u(e)}))),r.a.createElement("div",{className:"float-md-right pt-1"},r.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(m,"-").concat(d," of ").concat(o," ")),r.a.createElement(W.a,{className:"d-inline-block"},r.a.createElement(V.a,{caret:!0,color:"outline-dark",size:"xs"},c),r.a.createElement(K.a,{right:!0},h.map((e,t)=>r.a.createElement(q.a,{key:t,onClick:()=>l(e)},e))))))),r.a.createElement(Z.b,{className:"mb-5"})))}}var Q=Object(J.d)($),ee=a(803),te=a(802),ae=a(830),ne=a(805),re=a(806),se=a(89);var le=r.a.memo(({id:e,product:t,isSelect:a,collect:n,onCheckItem:s,toggleModal:l})=>r.a.createElement(Z.a,{sm:"6",lg:"4",xl:"3",className:"mb-3",key:t.id},r.a.createElement(F.b,{id:"menu_id",data:t.id,collect:n},r.a.createElement(y.a,{onClick:e=>s(e,t.id),className:T()({active:a})},r.a.createElement("div",{className:"position-relative"},r.a.createElement(ee.a,{top:!0,alt:t.title,src:t.img}),t.price?r.a.createElement(te.a,{color:"primary",pill:!0,className:"position-absolute badge-top-left"},"$",t.price):null,r.a.createElement(te.a,{color:t.statusColor,pill:!0,className:"position-absolute badge-top-left"},t.status)),r.a.createElement(k.a,null,r.a.createElement(U.a,null,r.a.createElement(Z.a,{xxs:"2"},r.a.createElement(ae.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(t.id),checked:a,onChange:()=>{},label:""})),r.a.createElement(Z.a,{xxs:"10",className:"mb-3"},r.a.createElement(se.b,{to:"?p=".concat(t.id),onClick:t=>l(t,e)},r.a.createElement(ne.a,{className:"mb-2 truncate"},t.title)),r.a.createElement(re.a,{className:"text-muted text-small mb-0 font-weight-light"},t.date))))))));var ce=r.a.memo(({id:e,product:t,isSelect:a,collect:n,onCheckItem:s,toggleModal:l})=>r.a.createElement(Z.a,{xxs:"12",key:t.id,className:"mb-3"},r.a.createElement(F.b,{id:"menu_id",data:t.id,collect:n},r.a.createElement(y.a,{onClick:e=>s(e,t.id),className:T()("d-flex flex-row",{active:a})},r.a.createElement("div",{className:"d-flex"},r.a.createElement("img",{alt:t.title,src:t.img,className:"list-thumbnail responsive border-0 card-img-left"})),r.a.createElement("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero"},r.a.createElement("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},r.a.createElement(se.b,{to:"?p=".concat(t.id),onClick:t=>l(t,e),className:"w-40 w-sm-100"},r.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.title)),r.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},t.category),r.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},t.date),r.a.createElement("div",{className:"w-15 w-sm-100"},r.a.createElement(te.a,{color:t.statusColor,pill:!0},t.status))),r.a.createElement("div",{className:"custom-control custom-checkbox pl-1 align-self-center pr-4"},r.a.createElement(ae.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(t.id),checked:a,onChange:()=>{},label:""})))))));var oe=r.a.memo(({id:e,product:t,isSelect:a,collect:n,onCheckItem:s,toggleModal:l})=>r.a.createElement(Z.a,{xxs:"12",className:"mb-3"},r.a.createElement(F.b,{id:"menu_id",data:t.id,collect:n},r.a.createElement(y.a,{onClick:e=>s(e,t.id),className:T()("d-flex flex-row",{active:a})},r.a.createElement("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero"},r.a.createElement("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},r.a.createElement(se.b,{to:"?p=".concat(t.id),onClick:t=>l(t,e)},r.a.createElement("p",{className:"list-item-heading mb-0 truncate"},t.title)),r.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},t.category),r.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},t.date),r.a.createElement("div",{className:"w-15 w-sm-100"},r.a.createElement(te.a,{color:t.statusColor,pill:!0},t.status))),r.a.createElement("div",{className:"custom-control custom-checkbox pl-1 align-self-center pr-4"},r.a.createElement(ae.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(t.id),checked:a,onChange:()=>{},label:""})))))));class ie extends n.Component{constructor(...e){super(...e),this.state={mode:"thumblist",search:"",selectedPageSize:8,selectedOrderOption:{label:"Product Name",column:"name"},selectedProducts:[],data:[],modalOpen:!1,elements:[]}}toggle(e=null){const t=this.state,a=t.modalOpen,n=t.data;return null!==e&&Array.isArray(n[e].elements)?this.setState({modalOpen:!a,elements:n[e].elements}):this.setState({modalOpen:!1})}componentDidMount(){const e=this.props,t=e.baseURL,a=e.data,n=e.token,r=e.clientID,s=e.dynamicComponent.id,l=this.props.match.params.slug,c=this.props.location.search,o=new URLSearchParams(c).entries();let i=new URLSearchParams;i.set("page_slug",l),i.set("elementID",s),i.set("elementType","productCardList"),i.set("client_id",r);var m,d=Object(R.a)(o);try{for(d.s();!(m=d.n()).done;){let e=m.value;i.set("queryString[".concat(e[0],"]"),e[1])}}catch(u){d.e(u)}finally{d.f()}return void 0!==a?a.forEach((e,t)=>i.set("data[".concat(t,"]"),e)):i.set("data",!1),i=i.toString(),Object(O.a)("".concat(t,"/details?").concat(i),{type:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}}).then(e=>e.json()).then(e=>this.setState({data:e.data})).catch(e=>b.a.error(e.message,"Oops! We got a problem.",3e3,null,null,""))}renderProducts(){let e=this.state,t=e.mode,a=e.search,n=e.selectedProducts,s=e.data;""!==a&&(s=s.filter(e=>e.title.match(new RegExp(a,"gi"))));let l=s.map((e,a)=>{let s={id:e.id,title:e.title,date:e.date,price:e.price,img:e.img?e.img:"https://gogo-react.coloredstrategies.com/assets/img/marble-cake-thumb.jpg"};return"imagelist"===t?r.a.createElement(le,{id:a,key:a,product:s,isSelect:n.includes(s.id),onCheckItem:(e,t)=>this.onCheckItem(e,t),toggleModal:(e,t)=>this.toggle(t)}):"thumblist"===t?r.a.createElement(ce,{id:a,key:a,product:s,isSelect:n.includes(s.id),onCheckItem:(e,t)=>this.onCheckItem(e,t),toggleModal:(e,t)=>this.toggle(t)}):r.a.createElement(oe,{id:a,key:a,product:s,isSelect:n.includes(s.id),onCheckItem:(e,t)=>this.onCheckItem(e,t),toggleModal:(e,t)=>this.toggle(t)})});return l.length>0?l:r.a.createElement("div",{className:"text-center w-100"},r.a.createElement("span",{className:"font-italic"},"No product found..."))}getUpdatedProducts(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.state.selectedProducts,r=[],r=n.includes(e)?[...n.filter(t=>t!==e)]:[...n,e],a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})))()}onCheckItem(e,t){var a=this;return Object(g.a)(h.a.mark((function e(){var n,r,s,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.form,s=n.field,l=n.onChange,e.next=3,a.getUpdatedProducts(t);case 3:return c=e.sent,e.next=6,r.setFieldValue(s.name,c);case 6:return e.next=8,l(c);case 8:return e.abrupt("return",a.setState({selectedProducts:c}));case 9:case"end":return e.stop()}}),e)})))()}changePageSize(e){return this.setState({selectedPageSize:e})}changeDisplayMode(e){return this.setState({mode:e})}onSearchKey(e){return this.setState({search:e.target.value})}renderFunctions(){const e=this.state,t=e.selectedProducts,a=e.data;let n=this.props.functions;return n?(n=n.map(e=>e in w?w[e]:null).filter(e=>null!==e),n=n.map((e,n)=>{const s=e,l=a.filter(e=>t.includes(e.id));return r.a.createElement(s,{key:n,products:l})})):n=[],n}showTitle(){const e=this.props,t=e.inCard,a=e.inWizard,n=e.dynamicComponent,s=n.title,l=n.data,c=this.state,o=c.selectedOrderOption,i=c.selectedPageSize,m=[{label:"Name",column:"name"},{label:"Date",column:"date"}];return r.a.createElement(Q,{inWizard:a,inCard:t,heading:s.charAt(0).toUpperCase()+s.slice(1),changeOrderBy:e=>this.setState({selectedOrderOption:m.find(t=>t.column===e)}),changeDisplayMode:e=>this.changeDisplayMode(e),changePageSize:e=>this.changePageSize(e),onSearchKey:e=>this.onSearchKey(e),startIndex:0,endIndex:i,totalItemCount:l.length,pageSizes:[8,12,24],selectedPageSize:i,orderOptions:m,selectedOrderOption:o})}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(M,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(ie,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}render(){const e=this.props,t=e.hidden,a=e.inCard,n=this.state,s=n.modalOpen,l=n.elements;return r.a.createElement("div",{className:T()({card:a})},r.a.createElement("div",{className:T()({"card-body":a})},this.showTitle(),r.a.createElement("div",{className:T()("row","align-items-stretch","mt-5","mx-5")},r.a.createElement(B,{onContextMenu:(e,t)=>null}),t?null:this.renderProducts(),r.a.createElement(C.a,{isOpen:s,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===l.length?r.a.createElement("div",{class:"loading d-block mx-auto position-static"}):null,this.renderElements()))),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},t?null:this.renderFunctions())))}}var me=Object(c.g)(ie),de=a(409),ue=a(789),pe=a(790),he=a(811);var ge=({onContextMenu:e,onContextMenuClick:t})=>r.a.createElement(F.a,{id:"menu_id",onShow:t=>e(t,t.detail.data)},r.a.createElement(F.c,{onClick:t,data:{action:"copy"}},r.a.createElement("i",{className:"simple-icon-docs"})," ",r.a.createElement("span",null,"Copy")),r.a.createElement(F.c,{onClick:t,data:{action:"move"}},r.a.createElement("i",{className:"simple-icon-drawer"})," ",r.a.createElement("span",null,"Move to archive")),r.a.createElement(F.c,{onClick:t,data:{action:"delete"}},r.a.createElement("i",{className:"simple-icon-trash"})," ",r.a.createElement("span",null,"Delete"))),be=a(271);var fe=r.a.memo(({detailViewSlug:e,entityName:t,product:a,isSelect:s,collect:l,onCheckItem:c})=>{const o=Object(n.useState)(a.img),i=Object(be.a)(o,2),m=i[0],d=i[1],u=new Image;u.src=a.img,u.onload=e=>{d(a.img)},u.onerror=e=>{d("/assets/img/missing.png")};return r.a.createElement(Z.a,{sm:"6",lg:"4",xl:"3",className:"mb-3",key:a.id},r.a.createElement(F.b,{id:"menu_id",data:a.id,collect:l},r.a.createElement(y.a,{onClick:e=>{if(!e.target.dataset.name)return c(e,a.id)},className:T()({active:s})},r.a.createElement("div",{className:"position-relative"},r.a.createElement("div",{className:"position-absolute product-badges d-flex flex-column"},a.price?r.a.createElement(te.a,{color:"primary",pill:!0,className:"badge-top-left"},"\u20ac ",a.price):null,r.a.createElement(te.a,{color:a.statusColor,pill:!0,className:"badge-top-left my-1"},a.status)),m?(e=>r.a.createElement(ee.a,{className:"img-fluid",top:!0,alt:e.title,src:m}))(a):r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("div",{className:"loading position-static"}))),r.a.createElement(k.a,null,r.a.createElement(U.a,null,r.a.createElement(Z.a,{xxs:"2"},r.a.createElement(ae.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(a.id),checked:s,onChange:()=>{},label:""})),r.a.createElement(Z.a,{xxs:"10",className:"mb-3"},r.a.createElement(se.b,{to:"".concat(e,"?p=").concat(a.id,"&e=").concat(t)},r.a.createElement(ne.a,{"data-name":"details-link",className:"mb-2 text-truncate"},a.title)),r.a.createElement(re.a,{className:"text-muted text-small mb-0 font-weight-light"},a.date)))))))}),Ee=a(808),ve=a(809),ye=a(810);class ke extends n.Component{constructor(e){super(e),this.getSafePage=this.getSafePage.bind(this),this.changePage=this.changePage.bind(this),this.applyPage=this.applyPage.bind(this),this.pageClick=this.pageClick.bind(this),this.renderPages=this.renderPages.bind(this),this.changePageSize=this.changePageSize.bind(this),this.renderPageJump=this.renderPageJump.bind(this),this.state={page:e.page,pageSize:this.props.defaultPageSize}}static getDerivedStateFromProps(e,t){return{page:e.page}}getSafePage(e){return Number.isNaN(e)&&(e=this.props.page),e}changePageSize(e){this.props.onPageSizeChange(e),this.setState({pageSize:e})}changePage(e){e=this.getSafePage(e),this.setState({page:e}),this.props.page!==e&&this.props.onPageChange(e)}applyPage(e){e&&e.preventDefault();const t=this.state.page;this.changePage(""===t?this.props.page:t)}pageClick(e){this.changePage(e)}renderPages(){const e=this.props.pages,t=this.state.page;let a=[];return e.forEach(e=>{if(0!==e){let n=t===e;a.push(r.a.createElement(Ee.a,{key:e,active:n},r.a.createElement(ve.a,{onClick:()=>this.pageClick(e)},e)))}else a.push(r.a.createElement(Ee.a,{className:"pointer-events-none",key:Math.random().toString(36).substring(7)},r.a.createElement(ve.a,null,"...")))}),a}renderPageJump(){let e=this.props.pages,t=[];for(let a=0;a<e;a++)t.push(r.a.createElement(q.a,{key:a,onClick:()=>this.changePage(a)},a+1));return t}render(){const e=this.props,t=e.page,a=e.pages,s=e.canPrevious,l=e.canNext,c=e.pageSizeOptions,o=e.showPageSizeOptions,i=e.showPageJump,m=e.totalResults;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center mt-5"},i&&r.a.createElement("div",{className:"float-left pt-2"},r.a.createElement("span",null,"Page "),r.a.createElement(W.a,{className:"d-inline-block"},r.a.createElement(V.a,{caret:!0,color:"outline-primary",size:"xs"},this.state.page),r.a.createElement(K.a,{direction:"left"},this.renderPageJump())),r.a.createElement("span",null," of "),a),r.a.createElement(ye.a,{className:"d-inline-block",size:"sm",listClassName:"justify-content-center","aria-label":"Page navigation example"},r.a.createElement(Ee.a,{className:"".concat((!s||t<2)&&"disabled")},r.a.createElement(ve.a,{className:"prev",onClick:()=>{s&&this.changePage(1)},disabled:!s},r.a.createElement("i",{className:"simple-icon-control-start"}))),r.a.createElement(Ee.a,{className:"".concat((!s||t<2)&&"disabled")},r.a.createElement(ve.a,{className:"prev",onClick:()=>{s&&this.changePage(t-1)},disabled:!s},r.a.createElement("i",{className:"simple-icon-arrow-left"}))),this.renderPages(),r.a.createElement(Ee.a,{className:"".concat((!l||0===m||t===Math.max(...a))&&"disabled")},r.a.createElement(ve.a,{className:"next",onClick:()=>{l&&this.changePage(t)},disabled:!l},r.a.createElement("i",{className:"simple-icon-arrow-right"}))),r.a.createElement(Ee.a,{className:"".concat((!l||0===m||t===Math.max(...a))&&"disabled")},r.a.createElement(ve.a,{className:"next",onClick:()=>{l&&this.changePage(Math.max(...a))},disabled:!l},r.a.createElement("i",{className:"simple-icon-control-end"})))),o&&r.a.createElement("div",{className:"float-right pt-2"},r.a.createElement("span",{className:"text-muted text-small mr-1"},"Items "),r.a.createElement(W.a,{className:"d-inline-block"},r.a.createElement(V.a,{caret:!0,color:"outline-primary",size:"xs"},this.state.pageSize),r.a.createElement(K.a,{right:!0},c.map((e,t)=>r.a.createElement(q.a,{key:t,onClick:()=>this.changePageSize(e)},e)))))))}}var we=a(784),Ne=a(323);class Ce extends n.Component{constructor(...e){super(...e),this.sliderHandle=e=>{const t=e.value,a=(e.dragging,e.index),s=e.offset,l=Object(de.a)(e,["value","dragging","index","offset"]),c={position:"absolute",left:"".concat(s,"%")};return r.a.createElement(n.Fragment,{key:a},r.a.createElement("div",{className:"rc-slider-tooltip",style:c},"\u20ac"+t.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),r.a.createElement(we.b.Handle,Object.assign({value:t,offset:s},l)))}}render(){return r.a.createElement(we.a,Object.assign({handle:this.sliderHandle},this.props))}}class xe extends n.Component{constructor(...e){super(...e),this.state={selectedProducts:[],data:[],currentPage:1,perPage:12,pageList:[],dropdownSplitOpen:!1,isOpen:!1,modalContent:[],priceFilter:null,statusFilter:null,categoryFilter:null,nameFilter:null,tagFilter:null,isLoading:!1},this.toggle=()=>this.setState({isOpen:!this.state.isOpen}),this.handleChangeSelectAll=e=>{const t=this.state,a=t.selectedProducts,n=t.data;return a.length>=n.length?e&&this.setState({selectedProducts:[]}):this.setState({selectedProducts:n.map(e=>e.id)}),document.activeElement.blur(),!1}}toggleSplit(){return this.setState(e=>({dropdownSplitOpen:!e.dropdownSplitOpen}))}fetchProductsData(e=null,t=null,a=null,n=null,r=null){const s=this.props,l=s.baseURL,c=s.data,o=s.token,i=s.clientID,m=s.dynamicComponent.id,d=this.props.match.params.slug,u=this.props.location.search,p=this.state,h=p.currentPage,g=p.perPage,f=new URLSearchParams(u).entries();let E=new URLSearchParams;E.set("page_slug",d),E.set("elementID",m),E.set("elementType","productList"),E.set("client_id",i),E.set("currentPage",h),E.set("perPage",g),e&&E.set("filters[price]",e),t&&E.set("filters[status]",t),r&&E.set("filters[name]",r),a&&a.length>0&&E.set("filters[category]",a),n&&n.length>0&&E.set("filters[tag]",n);var v,y=Object(R.a)(f);try{for(y.s();!(v=y.n()).done;){let e=v.value;E.set("queryString[".concat(e[0],"]"),e[1])}}catch(k){y.e(k)}finally{y.f()}return void 0!==c?c.forEach((e,t)=>E.set("data[".concat(t,"]"),e)):E.set("data",!1),E=E.toString(),this.setState({isLoading:!0}),Object(O.a)("".concat(l,"/details?").concat(E),{type:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o)}}).then(e=>e.json()).then(e=>this.setState({currentPage:e.data.currentPage,data:e.data.data,perPage:e.data.perPage,pageList:e.data.pageList,isLoading:!1})).catch(e=>b.a.error(e.message,"Oops! We got a problem.",3e3,null,null,""))}componentDidMount(){return this.fetchProductsData()}renderFunctions(){const e=this.state,t=e.selectedProducts,a=e.data;let n=this.props.functions;return n?(n=n.map(e=>e in w?w[e]:null).filter(e=>null!==e),n=n.map(e=>{const n=e,s=a.filter(e=>t.includes(e.id));return r.a.createElement(n,{products:s})})):n=[],n}callback(e){if(this.setState({isOpen:!1,modalContent:[],selectedProducts:[]}),!e)return this.fetchProductsData(this.state.priceFilter,this.state.statusFilter,this.state.categoryFilter,this.state.tagFilter,this.state.nameFilter)}renderProducts(){const e=this.state,t=e.selectedProducts,a=e.data,n=e.isLoading,s=this.props.dynamicComponent,l=s.detailViewSlug,c=s.entityName;if(n)return r.a.createElement("div",{className:"text-center w-100"},r.a.createElement("div",{className:"loading position-static"}));let o=a.map((e,a)=>{let n={id:e.id,title:e.title,date:e.date,price:e.price,status:e.status,statusColor:e.status_color,img:e.img?e.img:"https://gogo-react.coloredstrategies.com/assets/img/marble-cake-thumb.jpg"};return r.a.createElement(fe,{key:a,entityName:c,detailViewSlug:l,product:n,isSelect:t.includes(n.id),onCheckItem:(e,t)=>this.onCheckItem(e,t)})});return o.length>0?o:r.a.createElement("p",{className:"w-100 mb-0 font-italic text-center"},"No data found with the specified criteria.")}getUpdatedProducts(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.state.selectedProducts,r=[],r=n.includes(e)?[...n.filter(t=>t!==e)]:[...n,e],a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})))()}onCheckItem(e,t){var a=this;return Object(g.a)(h.a.mark((function e(){var n,r,s,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.form,s=n.field,l=n.onChange,e.next=3,a.getUpdatedProducts(t);case 3:return c=e.sent,e.next=6,r.setFieldValue(s.name,c);case 6:return e.next=8,l(c);case 8:return e.abrupt("return",a.setState({selectedProducts:c}));case 9:case"end":return e.stop()}}),e)})))()}showTitle(){const e=this.props,t=e.inCard,a=e.dynamicComponent.title;if(t)return r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,a.charAt(0).toUpperCase()+a.slice(1)))}onPageChange(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r,s,l,c,o,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.props,r=n.baseURL,s=n.token,l=n.clientID,c=n.dynamicComponent.id,o=t.props.match.params.slug,i=t.state.perPage,t.setState({isLoading:!0}),a.next=6,Object(O.a)("".concat(r,"/details?page_slug=").concat(o,"&elementID=").concat(c,"&elementType=productList&client_id=").concat(l,"&currentPage=").concat(e,"&perPage=").concat(i),{headers:{Authorization:"Bearer ".concat(s)}}).then(e=>e.json()).then(e=>t.setState({currentPage:e.data.currentPage,data:e.data.data,perPage:e.data.perPage,pageList:e.data.pageList,isLoading:!1})).catch(e=>console.error(e));case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),a)})))()}triggerAction(e,t){var a=this;return Object(g.a)(h.a.mark((function e(){var n,s,l,c,o,i,m,d,u,p,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,s=n.baseURL,l=n.token,c=n.clientID,o=n.user,i=a.props.match.params.slug,m=a.state.selectedProducts,e.next=5,Object(O.a)("".concat(s,"/details?elementID=").concat(t.component,"&elementType=modal&page_slug=").concat(i,"&client_id=").concat(c),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(l)}});case 5:if((d=e.sent).ok){e.next=8;break}return e.abrupt("return",d.statusText);case 8:return e.next=10,d.json();case 10:return u=e.sent,p=u.components,g=p.map((e,t)=>"wizard"===e.type?r.a.createElement(f.a,{key:t,customData:m,callback:(e=!1)=>a.callback(e),token:l,baseURL:s,clientID:c,user:o,component:e}):null),e.abrupt("return",a.setState({isOpen:!0,modalContent:g}));case 14:case"end":return e.stop()}}),e)})))()}renderFilters(){const e=this.props.dynamicComponent.filters.map((e,t)=>{const a=e.type;if("range"===a)return r.a.createElement("div",{className:"col-md-2",key:t},r.a.createElement(ue.a,{className:"mx-3"},r.a.createElement(pe.a,null,e.label),r.a.createElement(Ce,{onAfterChange:e=>(this.setState({priceFilter:e}),this.fetchProductsData(e,this.state.statusFilter,this.state.categoryFilter,this.state.tagFilter,this.state.nameFilter)),min:e.attributes.min,max:e.attributes.max,className:"mb-5",defaultValue:[e.attributes.min,e.attributes.max],allowCross:!1,pushable:0})));if("text"===a)return r.a.createElement("div",{className:"col-md-3",key:t},r.a.createElement(ue.a,{className:"mx-3"},r.a.createElement(pe.a,null,e.label),r.a.createElement(L.a,{className:"form-control",name:e.name,id:e.name,placeholder:e.placeholder,onInput:e=>(e.persist(),this.setState({nameFilter:e.target.value}),this.fetchProductsData(this.state.priceFilter,this.state.statusFilter,this.state.categoryFilter,this.state.tagFilter,e.target.value))})));if("predefinedDDL"===a){const a=e.attributes.options.map((t,a)=>({key:a,label:t[e.attributes.ddl.label],value:t[e.attributes.ddl.value]}));return r.a.createElement("div",{className:"col-md-2",key:t},r.a.createElement(ue.a,null,r.a.createElement(pe.a,null,e.label),r.a.createElement(L.a,{className:"form-control",name:e.name,id:e.name,component:Ne.a,options:a,onChange:e=>(this.setState({statusFilter:e.value}),this.fetchProductsData(this.state.priceFilter,e.value,this.state.categoryFilter,this.state.tagFilter,this.state.nameFilter))})))}if("staticDDL"===a){if("category"===e.identity){let a=e.attributes.ddl.label,n=e.attributes.ddl.value,s=e.data.map((e,t)=>({key:t,label:e[a],value:e[n]}));return r.a.createElement("div",{className:"col-md-2",key:t},r.a.createElement(ue.a,null,r.a.createElement(pe.a,null,e.label),r.a.createElement(L.a,{className:"form-control",name:e.name,id:e.name,component:z.a,options:s,onChange:e=>{const t=e.map(e=>e.value);return this.setState({categoryFilter:t}),this.fetchProductsData(this.state.priceFilter,this.state.statusFilter,t,this.state.tagFilter,this.state.nameFilter)}})))}if("tag"===e.identity){let a=e.attributes.ddl.label,n=e.attributes.ddl.value,s=e.data.map((e,t)=>({key:t,label:e[a],value:e[n]}));return r.a.createElement("div",{className:"col-md-2",key:t},r.a.createElement(ue.a,null,r.a.createElement(pe.a,null,e.label),r.a.createElement(L.a,{className:"form-control",name:e.name,id:e.name,component:z.a,options:s,onChange:e=>{const t=e.map(e=>e.value);return this.setState({tagFilter:t}),this.fetchProductsData(this.state.priceFilter,this.state.statusFilter,this.state.categoryFilter,t,this.state.nameFilter)}})))}}return r.a.createElement("div",{className:"col-md-3",key:t},r.a.createElement(ue.a,{className:"mx-3"},r.a.createElement(pe.a,null,e.label),r.a.createElement(L.a,{className:"form-control",name:e.name,id:e.name,placeholder:e.placeholder,onInput:e=>(e.persist(),this.setState({nameFilter:e.target.value}),this.fetchProductsData(this.state.priceFilter,this.state.statusFilter,this.state.categoryFilter,this.state.tagFilter,e.target.value))})))});return r.a.createElement("div",{className:"row mx-0 justify-content-center align-items-center"},e)}showExtendedFeatures(){const e=this.state,t=e.selectedProducts,a=e.data,n=e.dropdownSplitOpen,s=this.props.dynamicComponent,l=s.showExtendedFeatures,c=s.actions;return l?r.a.createElement("div",{className:"row mx-0 justify-content-between align-items-center"},r.a.createElement("div",{className:"col-md-11 text-center"},this.renderFilters()),r.a.createElement("div",{className:"col-md-1 text-right"},r.a.createElement(he.a,{isOpen:n,toggle:()=>this.toggleSplit()},r.a.createElement("div",{className:"btn btn-primary btn-lg pl-4 pr-0 check-button check-all"},r.a.createElement(ae.a,{className:"custom-checkbox mb-0 d-inline-block",type:"checkbox",id:"checkAll",checked:t.length>=a.length,onChange:()=>this.handleChangeSelectAll(!0),label:r.a.createElement("span",{className:"custom-control-label ".concat(t.length>0&&t.length<a.length?"indeterminate":"")})})),r.a.createElement(V.a,{disabled:0===t.length,caret:!0,color:"primary",className:"dropdown-toggle-split btn-lg"}),r.a.createElement(K.a,{right:!0},c.map((e,t)=>r.a.createElement(q.a,{key:t,onClick:t=>this.triggerAction(t,e)},e.label)))))):null}render(){var e=this;const t=this.props,a=t.hidden,n=t.inCard,s=this.state,l=s.currentPage,c=s.pageList,o=s.data,i=s.isOpen,m=s.modalContent;return r.a.createElement("div",null,r.a.createElement("div",{className:T()({card:n})},r.a.createElement("div",{className:T()({"card-body":n})},this.showTitle(),this.showExtendedFeatures(),r.a.createElement("div",{className:T()("row","align-items-stretch","mt-5","mx-5")},r.a.createElement(ge,{onContextMenu:(e,t)=>null}),a?null:this.renderProducts()),r.a.createElement(ke,{canNext:!0,canPrevious:!0,onPageChange:function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onPageChange(a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),page:l,totalResults:o.length,pages:c}),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},a?null:this.renderFunctions()))),r.a.createElement(C.a,{isOpen:i,size:"xl",fade:!1,toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-0"},m)))}}var Oe=Object(c.g)(xe),Se=a(119),je=a.n(Se),Pe=a(107),_e=a.n(Pe);const Ie=()=>{let e=getComputedStyle(document.body);return{themeColor1:e.getPropertyValue("--theme-color-1").trim(),themeColor2:e.getPropertyValue("--theme-color-2").trim(),themeColor3:e.getPropertyValue("--theme-color-3").trim(),themeColor4:e.getPropertyValue("--theme-color-4").trim(),themeColor5:e.getPropertyValue("--theme-color-5").trim(),themeColor6:e.getPropertyValue("--theme-color-6").trim(),themeColor1_10:e.getPropertyValue("--theme-color-1-10").trim(),themeColor2_10:e.getPropertyValue("--theme-color-2-10").trim(),themeColor3_10:e.getPropertyValue("--theme-color-3-10").trim(),themeColor4_10:e.getPropertyValue("--theme-color-3-10").trim(),themeColor5_10:e.getPropertyValue("--theme-color-3-10").trim(),themeColor6_10:e.getPropertyValue("--theme-color-3-10").trim(),primaryColor:e.getPropertyValue("--primary-color").trim(),foregroundColor:e.getPropertyValue("--foreground-color").trim(),separatorColor:e.getPropertyValue("--separator-color").trim()}},Ae={backgroundColor:Ie().foregroundColor,titleFontColor:Ie().primaryColor,borderColor:Ie().separatorColor,borderWidth:.5,bodyFontColor:Ie().primaryColor,bodySpacing:10,xPadding:15,yPadding:15,cornerRadius:.15},Me={afterDatasetsUpdate:function(e){},beforeDraw:function(e){var t=e.chartArea.right,a=e.chartArea.bottom,n=e.chart.ctx;n.restore();var r=e.data.labels[0],s=e.data.datasets[0].data[0],l=e.data.datasets[0],c=l._meta[Object.keys(l._meta)[0]],o=c.total,i=parseFloat((s/o*100).toFixed(1));i=e.legend.legendItems[0].hidden?0:i,e.pointAvailable&&(r=e.data.labels[e.pointIndex],s=e.data.datasets[e.pointDataIndex].data[e.pointIndex],o=(c=(l=e.data.datasets[e.pointDataIndex])._meta[Object.keys(l._meta)[0]]).total,i=parseFloat((s/o*100).toFixed(1)),i=e.legend.legendItems[e.pointIndex].hidden?0:i),n.font="36px Nunito, sans-serif",n.fillStyle=Ie().primaryColor,n.textBaseline="middle";var m=i+"%",d=Math.round((t-n.measureText(m).width)/2),u=a/2;n.fillText(m,d,u),n.font="14px Nunito, sans-serif",n.textBaseline="middle";var p=r,h=Math.round((t-n.measureText(p).width)/2),g=a/2-30;n.fillText(p,h,g),n.save()},beforeEvent:function(e,t,a){var n=e.getElementAtEvent(t)[0];n&&(e.pointIndex=n._index,e.pointDataIndex=n._datasetIndex,e.pointAvailable=!0)}},ze={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,tooltips:Ae,plugins:{datalabels:{display:!1}},scales:{yAxes:[{gridLines:{display:!0,lineWidth:1,color:"rgba(0,0,0,0.1)",drawBorder:!1},ticks:{beginAtZero:!0,padding:20}}],xAxes:[{gridLines:{display:!1}}]}},Le={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,tooltips:Ae,scales:{yAxes:[{gridLines:{display:!0,lineWidth:1,color:"rgba(0,0,0,0.1)",drawBorder:!1},ticks:{beginAtZero:!0,padding:20}}],xAxes:[{gridLines:{display:!1}}]}},De={legend:{position:"bottom",labels:{padding:30,usePointStyle:!0,fontSize:12}},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{gridLines:{display:!0,lineWidth:1,color:"rgba(0,0,0,0.1)",drawBorder:!1},ticks:{beginAtZero:!0,padding:20}}],xAxes:[{gridLines:{display:!1}}]},tooltips:Ae},Te={legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,fontSize:12}},responsive:!0,maintainAspectRatio:!1,title:{display:!1},layout:{padding:{bottom:20}},tooltips:Ae},Re={legend:{position:"bottom",labels:{padding:30,usePointStyle:!0,fontSize:12}},responsive:!0,maintainAspectRatio:!1,title:{display:!1},cutoutPercentage:80,layout:{padding:{bottom:20}},tooltips:Ae};class Fe extends r.a.Component{toggle(){const e=this.state.modalOpen,t=this.props.component.elements;if(Array.isArray(t))return this.setState({modalOpen:!e,elements:t})}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(M,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}constructor(e){super(e),this.level=0,this.state={modalOpen:!1,elements:[]},this.colors=[{backgroundColor:"rgba(136, 10, 31, 0.1)",borderColor:"rgb(136, 10, 31)"},{backgroundColor:"rgb(69, 86, 172, 0.1)",borderColor:"rgb(69, 86, 172)"}],this.handleClick=(e,t)=>{if(0===this.level){if(e[0]){this.level=1;let a=t[(e=e[0])._datasetIndex],n=this.chart_instance.current.chartInstance.data.datasets[e._datasetIndex],r=a.data;if(Array.isArray(r)){let e=r.map(e=>_e()(e[a.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"));r=r.map(e=>e[a.yColumn]),this.chart_instance.current.chartInstance.data.labels=e,this.chart_instance.current.chartInstance.data.datasets=[Object(u.a)(Object(u.a)({},n),{},{data:r})],this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}}}else{this.level=0;let e=this.props.component.data,t={labels:[...new Set(e.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"))).flat(2))],datasets:e.map((e,t)=>({backgroundColor:this.colors[t].backgroundColor,borderColor:this.colors[t].borderColor,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.colors[t].borderColor,pointBorderWidth:2,pointHoverBackgroundColor:this.colors[t].borderColor,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};this.chart_instance.current.chartInstance.data=t,this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}this.toggle()},this.chart_instance=r.a.createRef(),this.props.shadow&&(Se.Chart.defaults.lineWithShadow=Se.Chart.defaults.line,Se.Chart.controllers.lineWithShadow=Se.Chart.controllers.line.extend({draw:function(e){Se.Chart.controllers.line.prototype.draw.call(this,e);var t=this.chart.ctx;t.save(),t.shadowColor="rgba(0,0,0,0.15)",t.shadowBlur=10,t.shadowOffsetX=0,t.shadowOffsetY=10,t.responsive=!0,t.stroke(),Se.Chart.controllers.line.prototype.draw.apply(this,arguments),t.restore()}}))}render(){const e=this.props,t=e.shadow,a=e.component,n=a.data,s=a.legend,l=this.state,c=l.modalOpen,o=l.elements;let i={labels:[...new Set(n.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"))).flat(2))],datasets:n.map((e,t)=>({backgroundColor:this.colors[t].backgroundColor,borderColor:this.colors[t].borderColor,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.colors[t].borderColor,pointBorderWidth:2,pointHoverBackgroundColor:this.colors[t].borderColor,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};return r.a.createElement("div",{className:T()("card",this.props.className)},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,s.charAt(0).toUpperCase()+s.slice(1))),r.a.createElement("div",null,r.a.createElement(je.a,{height:400,ref:this.chart_instance,type:t?"lineWithShadow":"line",options:Object(u.a)({},Le),getElementAtEvent:e=>this.handleClick(e,n),data:i})),r.a.createElement(C.a,{isOpen:c,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===o.length?r.a.createElement("div",{class:"loading d-block mx-auto position-static"}):null,this.renderElements()))))}}class Be extends r.a.Component{constructor(e){super(e),this.level=0,this.state={modalOpen:!1,elements:[]},this.colors=[{backgroundColor:"rgba(136, 10, 31, 0.1)",borderColor:"rgb(136, 10, 31)"},{backgroundColor:"rgb(69, 86, 172, 0.1)",borderColor:"rgb(69, 86, 172)"}],this.handleClick=(e,t)=>{if(0===this.level){if(e[0]){this.level=1;let a=t[(e=e[0])._datasetIndex],n=this.chart_instance.current.chartInstance.data.datasets[e._datasetIndex],r=a.data;if(Array.isArray(r)){let e=r.map(e=>_e()(e[a.xColumn]).format("MMM YYYY"));r=r.map(e=>e[a.yColumn]),this.chart_instance.current.chartInstance.data.labels=e,this.chart_instance.current.chartInstance.data.datasets=[Object(u.a)(Object(u.a)({},n),{},{data:r})],this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}}}else{this.level=0;let e=this.props.component.data,t={labels:[...new Set(e.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("MMM YYYY"))).flat(2))],datasets:e.map((e,t)=>({backgroundColor:this.colors[t].backgroundColor,borderColor:this.colors[t].borderColor,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.colors[t].borderColor,pointBorderWidth:2,pointHoverBackgroundColor:this.colors[t].borderColor,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};this.chart_instance.current.chartInstance.data=t,this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}this.toggle()},this.chart_instance=r.a.createRef(),this.props.shadow&&(Se.Chart.defaults.barWithShadow=Se.Chart.defaults.bar,Se.Chart.controllers.barWithShadow=Se.Chart.controllers.bar.extend({draw:function(e){Se.Chart.controllers.bar.prototype.draw.call(this,e);var t=this.chart.ctx;t.save(),t.shadowColor="rgba(0,0,0,0.2)",t.shadowBlur=7,t.shadowOffsetX=5,t.shadowOffsetY=7,t.responsive=!0,Se.Chart.controllers.bar.prototype.draw.apply(this,arguments),t.restore()}}))}toggle(){const e=this.state.modalOpen,t=this.props.component.elements;if(Array.isArray(t))return this.setState({modalOpen:!e,elements:t})}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(M,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}render(){const e=this.props,t=e.shadow,a=e.component,n=a.data,s=a.legend,l=this.state,c=l.modalOpen,o=l.elements;let i={labels:[...new Set(n.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("MMM YYYY"))).flat(2))],datasets:n.map((e,t)=>({backgroundColor:this.colors[t].backgroundColor,borderColor:this.colors[t].borderColor,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.colors[t].borderColor,pointBorderWidth:2,pointHoverBackgroundColor:this.colors[t].borderColor,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};return r.a.createElement("div",{className:T()("card","my-5",this.props.className)},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,s.charAt(0).toUpperCase()+s.slice(1))),r.a.createElement("div",null,r.a.createElement(je.a,{height:400,ref:this.chart_instance,type:t?"barWithShadow":"bar",options:Object(u.a)({},De),getElementAtEvent:e=>this.handleClick(e,n),data:i})),r.a.createElement(C.a,{isOpen:c,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===o.length?r.a.createElement("div",{class:"loading d-block mx-auto position-static"}):null,this.renderElements()))))}}class Ue extends r.a.Component{toggle(){const e=this.state.modalOpen,t=this.props.component.elements;if(Array.isArray(t))return this.setState({modalOpen:!e,elements:t})}constructor(e){super(e),this.level=0,this.state={modalOpen:!1,elements:[]},this.backgroundColors=["rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgb(69, 86, 172, 0.2)"],this.borderColors=["rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)"],this.handleClick=(e,t)=>{if(0===this.level){if(e[0]){this.level=1;let a=t[(e=e[0])._datasetIndex],n=this.chart_instance.current.chartInstance.data.datasets[e._datasetIndex],r=a.data;if(Array.isArray(r)){let e=r.map(e=>_e()(e[a.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"));r=r.map(e=>e[a.yColumn]),this.chart_instance.current.chartInstance.data.labels=e,this.chart_instance.current.chartInstance.data.datasets=[Object(u.a)(Object(u.a)({},n),{},{data:r})],this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}}}else{this.level=0;let e=this.props.component.data,t={labels:[...new Set(e.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"))).flat(2))],datasets:e.map((e,t)=>({backgroundColor:this.backgroundColors,borderColor:this.borderColors,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.borderColors,pointBorderWidth:2,pointHoverBackgroundColor:this.borderColors,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};this.chart_instance.current.chartInstance.data=t,this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}this.toggle()},this.chart_instance=r.a.createRef(),this.props.shadow&&(Se.Chart.defaults.doughnutWithShadow=Se.Chart.defaults.doughnut,Se.Chart.controllers.doughnutWithShadow=Se.Chart.controllers.doughnut.extend({draw:function(e){Se.Chart.controllers.doughnut.prototype.draw.call(this,e);let t=this.chart.chart.ctx;t.save(),t.shadowColor="rgba(0,0,0,0.15)",t.shadowBlur=10,t.shadowOffsetX=0,t.shadowOffsetY=10,t.responsive=!0,Se.Chart.controllers.doughnut.prototype.draw.apply(this,arguments),t.restore()}}))}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(M,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}render(){const e=this.props,t=e.shadow,a=e.component,n=a.data,s=a.legend,l=this.state,c=l.modalOpen,o=l.elements;let i={labels:[...new Set(n.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"))).flat(2))],datasets:n.map((e,t)=>({backgroundColor:this.backgroundColors,borderColor:this.borderColors,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.borderColors,pointBorderWidth:2,pointHoverBackgroundColor:this.borderColors,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};return r.a.createElement("div",{className:T()("card","my-5",this.props.className)},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,s.charAt(0).toUpperCase()+s.slice(1))),r.a.createElement("div",null,r.a.createElement(je.a,{height:400,ref:this.chart_instance,type:t?"doughnutWithShadow":"doughnut",plugins:[Me],options:Object(u.a)({},Re),getElementAtEvent:e=>this.handleClick(e,n),data:i})),r.a.createElement(C.a,{isOpen:c,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===o.length?r.a.createElement("div",{class:"loading d-block mx-auto position-static"}):null,this.renderElements()))))}}class He extends r.a.Component{toggle(){const e=this.state.modalOpen,t=this.props.component.elements;if(Array.isArray(t))return this.setState({modalOpen:!e,elements:t})}constructor(e){super(e),this.level=0,this.state={modalOpen:!1,elements:[]},this.colors=[{backgroundColor:"rgba(136, 10, 31, 0.1)",borderColor:"rgb(136, 10, 31)"},{backgroundColor:"rgb(69, 86, 172, 0.1)",borderColor:"rgb(69, 86, 172)"}],this.handleClick=(e,t)=>{if(0===this.level){if(e[0]){this.level=1;let a=t[(e=e[0])._datasetIndex],n=this.chart_instance.current.chartInstance.data.datasets[e._datasetIndex],r=a.data;if(Array.isArray(r)){let e=r.map(e=>_e()(e[a.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"));r=r.map(e=>e[a.yColumn]),this.chart_instance.current.chartInstance.data.labels=e,this.chart_instance.current.chartInstance.data.datasets=[Object(u.a)(Object(u.a)({},n),{},{data:r})],this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}}}else{this.level=0;let e=this.props.component.data,t={labels:[...new Set(e.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"))).flat(2))],datasets:e.map((e,t)=>({backgroundColor:this.colors[t].backgroundColor,borderColor:this.colors[t].borderColor,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.colors[t].borderColor,pointBorderWidth:2,pointHoverBackgroundColor:this.colors[t].borderColor,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};this.chart_instance.current.chartInstance.data=t,this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}this.toggle()},this.chart_instance=r.a.createRef(),this.props.shadow&&(Se.Chart.defaults.lineWithShadow=Se.Chart.defaults.line,Se.Chart.controllers.lineWithShadow=Se.Chart.controllers.line.extend({draw:function(e){Se.Chart.controllers.line.prototype.draw.call(this,e);var t=this.chart.ctx;t.save(),t.shadowColor="rgba(0,0,0,0.15)",t.shadowBlur=10,t.shadowOffsetX=0,t.shadowOffsetY=10,t.responsive=!0,t.stroke(),Se.Chart.controllers.line.prototype.draw.apply(this,arguments),t.restore()}}))}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(M,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}render(){const e=this.props,t=e.shadow,a=e.component,n=a.data,s=a.legend,l=this.state,c=l.modalOpen,o=l.elements;let i={labels:[...new Set(n.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("week"===e.timeIdentifier?"dddd":"MMM YYYY"))).flat(2))],datasets:n.map((e,t)=>({backgroundColor:"transparent",borderColor:this.colors[t].borderColor,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.colors[t].borderColor,pointBorderWidth:2,pointHoverBackgroundColor:this.colors[t].borderColor,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};return r.a.createElement("div",{className:T()("card","my-5",this.props.className)},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,s.charAt(0).toUpperCase()+s.slice(1))),r.a.createElement("div",null,r.a.createElement(je.a,{height:400,ref:this.chart_instance,type:t?"lineWithShadow":"line",options:Object(u.a)({},ze),getElementAtEvent:e=>this.handleClick(e,n),data:i})),r.a.createElement(C.a,{isOpen:c,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===o.length?r.a.createElement("div",{class:"loading d-block mx-auto position-static"}):null,this.renderElements()))))}}class Ye extends r.a.Component{toggle(){const e=this.state.modalOpen,t=this.props.component.elements;if(Array.isArray(t))return this.setState({modalOpen:!e,elements:t})}constructor(e){super(e),this.level=0,this.state={modalOpen:!1,elements:[]},this.backgroundColors=["rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)","rgba(136, 10, 31, 0.2)","rgba(69, 86, 172, 0.2)"],this.borderColors=["rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)","rgb(136, 10, 31)","rgb(69, 86, 172)"],this.handleClick=(e,t)=>{if(0===this.level){if(e[0]){this.level=1;let a=t[(e=e[0])._datasetIndex],n=this.chart_instance.current.chartInstance.data.datasets[e._datasetIndex],r=a.data;if(Array.isArray(r)){let e=r.map(e=>_e()(e[a.xColumn]).format("MMM YYYY"));r=r.map(e=>e[a.yColumn]),this.chart_instance.current.chartInstance.data.labels=e,this.chart_instance.current.chartInstance.data.datasets=[Object(u.a)(Object(u.a)({},n),{},{data:r})],this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}}}else{this.level=0;let e=this.props.component.data,t={labels:[...new Set(e.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("MMM YYYY"))).flat(2))],datasets:e.map((e,t)=>({backgroundColor:this.backgroundColors,borderColor:this.borderColors,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.borderColors,pointBorderWidth:2,pointHoverBackgroundColor:this.borderColors,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};this.chart_instance.current.chartInstance.data=t,this.chart_instance.current.chartInstance.update({duration:800,lazy:!0,easing:"easeOutBounce"})}this.toggle()},this.chart_instance=r.a.createRef(),this.props.shadow&&(Se.Chart.defaults.pieWithShadow=Se.Chart.defaults.pie,Se.Chart.controllers.pieWithShadow=Se.Chart.controllers.pie.extend({draw:function(e){Se.Chart.controllers.pie.prototype.draw.call(this,e);let t=this.chart.chart.ctx;t.save(),t.shadowColor="rgba(0,0,0,0.15)",t.shadowBlur=10,t.shadowOffsetX=0,t.shadowOffsetY=10,t.responsive=!0,Se.Chart.controllers.pie.prototype.draw.apply(this,arguments),t.restore()}}))}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(M,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(at,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}render(){const e=this.props,t=e.shadow,a=e.component,n=a.data,s=a.legend,l=this.state,c=l.modalOpen,o=l.elements;let i={labels:[...new Set(n.map(e=>e.data.map(t=>_e()(t[e.xColumn]).format("MMM YYYY"))).flat(2))],datasets:n.map((e,t)=>({backgroundColor:this.backgroundColors,borderColor:this.borderColors,borderWidth:2,pointBackgroundColor:"#fff",pointBorderColor:this.borderColors,pointBorderWidth:2,pointHoverBackgroundColor:this.borderColors,pointHoverBorderColor:"#fff",pointHoverRadius:5,pointRadius:4,label:e.label,data:e.data.map(t=>{let a=t[e.yColumn];return Array.isArray(a)?a[0][e.yColumn]:a})}))};return r.a.createElement("div",{className:T()("card","my-5",this.props.className)},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,s.charAt(0).toUpperCase()+s.slice(1))),r.a.createElement("div",null,r.a.createElement(je.a,{height:400,ref:this.chart_instance,type:t?"pieWithShadow":"pie",options:Object(u.a)({},Te),getElementAtEvent:e=>this.handleClick(e,n),data:i})),r.a.createElement(C.a,{isOpen:c,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===o.length?r.a.createElement("div",{class:"loading d-block mx-auto position-static"}):null,this.renderElements()))))}}r.a.Component;r.a.Component;r.a.Component;r.a.Component;var We=a(783);const Ve=e=>r.a.createElement("div",{className:"big-calendar-header"},r.a.createElement("div",{className:"float-left"},r.a.createElement("label",null,(()=>{const t=_e()(e.date);return r.a.createElement("span",null,r.a.createElement("span",null,t.format("MMMM")," "),r.a.createElement("span",null," ",t.format("YYYY")))})())),r.a.createElement("div",{className:"float-right"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary calendar-today-btn mr-2",onClick:()=>{e.onNavigate("TODAY")}},"Today"),r.a.createElement("button",{className:"btn calendar-prev-btn mr-1",onClick:()=>{e.onNavigate("PREV")}},r.a.createElement("span",{className:"simple-icon-arrow-left"})),r.a.createElement("button",{className:"btn calendar-next-btn",onClick:()=>{e.onNavigate("NEXT")}},r.a.createElement("span",{className:"simple-icon-arrow-right"}))))),Ke=Object(We.b)(_e.a);var qe=({component:e})=>{const t=e.title,a=e.description;return r.a.createElement("div",{className:"card my-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1)),r.a.createElement("span",null," \u2014 "),r.a.createElement("span",{className:"opacity-50"},a.charAt(0).toUpperCase()+a.slice(1))),r.a.createElement(We.a,{localizer:Ke,events:[],components:{toolbar:Ve},drilldownView:"null",startAccessor:"start",endAccessor:"end"}),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},function(){let t=e.functions;return t=t?t.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],t}())))},Je=a(785),Ze=a(704),Xe=a.n(Ze);class Ge extends n.Component{constructor(e){super(e),this.getSafePage=this.getSafePage.bind(this),this.changePage=this.changePage.bind(this),this.applyPage=this.applyPage.bind(this),this.pageClick=this.pageClick.bind(this),this.renderPages=this.renderPages.bind(this),this.changePageSize=this.changePageSize.bind(this),this.renderPageJump=this.renderPageJump.bind(this),this.state={page:e.page,pageSize:this.props.defaultPageSize}}static getDerivedStateFromProps(e,t){return{page:e.page}}getSafePage(e){return Number.isNaN(e)&&(e=this.props.page),Math.min(Math.max(e,0),this.props.pages-1)}changePageSize(e){this.props.onPageSizeChange(e),this.setState({pageSize:e})}changePage(e){e=this.getSafePage(e),this.setState({page:e}),this.props.page!==e&&this.props.onPageChange(e)}applyPage(e){e&&e.preventDefault();const t=this.state.page;this.changePage(""===t?this.props.page:t)}pageClick(e){this.changePage(e)}renderPages(){let e=this.props.pages,t=[];for(let a=0;a<e;a++){let e=this.state.page===a;t.push(r.a.createElement(Ee.a,{key:a,active:e},r.a.createElement(ve.a,{onClick:()=>this.pageClick(a)},a+1)))}return t}renderPageJump(){let e=this.props.pages,t=[];for(let a=0;a<e;a++)t.push(r.a.createElement(q.a,{key:a,onClick:()=>this.changePage(a)},a+1));return t}render(){const e=this.props,t=e.page,a=e.pages,s=e.canPrevious,l=e.canNext,c=e.pageSizeOptions,o=e.showPageSizeOptions,i=e.showPageJump;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center"},i&&r.a.createElement("div",{className:"float-left pt-2"},r.a.createElement("span",null,"Page "),r.a.createElement(W.a,{className:"d-inline-block"},r.a.createElement(V.a,{caret:!0,color:"outline-primary",size:"xs"},this.state.page+1),r.a.createElement(K.a,{direction:"left"},this.renderPageJump())),r.a.createElement("span",null," of "),a),r.a.createElement(ye.a,{className:"d-inline-block",size:"sm",listClassName:"justify-content-center","aria-label":"Page navigation example"},r.a.createElement(Ee.a,{className:"".concat((!s||t<1)&&"disabled")},r.a.createElement(ve.a,{className:"prev",onClick:()=>{s&&this.changePage(0)},disabled:!s},r.a.createElement("i",{className:"simple-icon-control-start"}))),r.a.createElement(Ee.a,{className:"".concat((!s||t<1)&&"disabled")},r.a.createElement(ve.a,{className:"prev",onClick:()=>{s&&this.changePage(t-1)},disabled:!s},r.a.createElement("i",{className:"simple-icon-arrow-left"}))),this.renderPages(),r.a.createElement(Ee.a,{className:"".concat((!l||t===a-1)&&"disabled")},r.a.createElement(ve.a,{className:"next",onClick:()=>{l&&this.changePage(t+1)},disabled:!l},r.a.createElement("i",{className:"simple-icon-arrow-right"}))),r.a.createElement(Ee.a,{className:"".concat((!l||t===a-1)&&"disabled")},r.a.createElement(ve.a,{className:"next",onClick:()=>{l&&this.changePage(a-1)},disabled:!l},r.a.createElement("i",{className:"simple-icon-control-end"})))),o&&r.a.createElement("div",{className:"float-right pt-2"},r.a.createElement("span",{className:"text-muted text-small mr-1"},"Items "),r.a.createElement(W.a,{className:"d-inline-block"},r.a.createElement(V.a,{caret:!0,color:"outline-primary",size:"xs"},this.state.pageSize),r.a.createElement(K.a,{right:!0},c.map((e,t)=>r.a.createElement(q.a,{key:t,onClick:()=>this.changePageSize(e)},e)))))))}}const $e=Xe()(Je.a);class Qe extends r.a.Component{constructor(...e){super(...e),this.state={selectAll:!1,selection:[]},this.toggleSelection=(e,t,a)=>{let n=[...this.state.selection];const r=n.indexOf(e);r>=0?n=[...n.slice(0,r),...n.slice(r+1)]:n.push(e),this.setState({selection:n})},this.toggleAll=()=>{const e=this.props.keyField,t=!this.state.selectAll,a=[];if(t){this.checkboxTable.getWrappedInstance().getResolvedState().sortedData.forEach(t=>{a.push("select-".concat(t._original[e]))})}this.setState({selectAll:t,selection:a})},this.isSelected=e=>this.state.selection.includes("select-".concat(e)),this.rowFn=(e,t,a,n)=>{const r=this.state.selection;return{onClick:(e,t)=>{t&&t()},style:{background:t&&r.includes("select-".concat(t.original.id))&&"#bbb"}}}}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}render(){const e=this.props.component,t=e.legend;let a=e.columns.map((function(e){return{Header:e.label,accessor:e.identifier}}));return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1))),r.a.createElement($e,Object.assign({},this.props,{ref:e=>this.checkboxTable=e,toggleSelection:this.toggleSelection,selectAll:this.state.selectAll,selectType:"checkbox",toggleAll:this.toggleAll,isSelected:this.isSelected,getTrProps:this.rowFn,className:"react-table -highlight",defaultPageSize:e.data.length,columns:a,data:e.data,PaginationComponent:Ge})),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions())))}}Qe.defaultProps={keyField:"id"};r.a.Component;var et=e=>{const t=e.alt,a=e.src,n=e.className,s=e.rounded,l=e.small;return r.a.createElement("img",{alt:t,src:a,className:"img-thumbnail list-thumbnail align-self-center ".concat(n,"  ").concat(T()({"rounded-circle":s,small:l}))})};class tt extends n.Component{constructor(...e){super(...e),this.state={modalOpen:!1,elements:[]}}toggle(e=null){const t=this.state.modalOpen,a=this.props.component.data;return null!==e&&Array.isArray(a[e].elements)?this.setState({modalOpen:!t,elements:a[e].elements}):this.setState({modalOpen:!1})}renderElements(){const e=this.state.elements;return e.map((t,a)=>{const n=t.type;if("chart"===n){const n=t.kind;if("pie"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ye,{className:"shadow-none",shadow:!1,component:t}));if("bar"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Be,{className:"shadow-none",shadow:!1,component:t}));if("area"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Fe,{className:"shadow-none",shadow:!1,component:t}));if("line"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(He,{className:"shadow-none",shadow:!1,component:t}));if("doughnut"===n)return r.a.createElement("div",{className:1===e.length?"col":0===a?"col-md-7":"col-md-5",key:a},r.a.createElement(Ue,{className:"shadow-none",shadow:!1,component:t}))}if("calendar"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(qe,{component:t}));if("table"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Qe,{component:t}));if("card"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(y.a,Object.assign({},this.props,{component:t})));if("wizard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(f.a,Object.assign({},this.props,{component:t})));if("productCardList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(me,Object.assign({inCard:!0},this.props,{component:t})));if("productList"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(Oe,Object.assign({inCard:!0},this.props,{dynamicComponent:t})));if("userCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(tt,Object.assign({inCard:!0},this.props,{component:t})));if("profileCard"===n)return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(bt,Object.assign({},this.props,{component:t})));if("thumbCarousel"===n){const n=t.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(yt,Object.assign({},this.props,{data:n,component:t})))}return"search"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(wt,Object.assign({},this.props,{component:t}))):"tabs"===n?r.a.createElement("div",{className:1===e.length?"col":"col-md-5",key:a},r.a.createElement(_t,Object.assign({},this.props,{component:t}))):null})}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}render(){const e=this.props,t=e.component,a=t.title,n=t.data,s=e.inCard,l=this.state,c=l.modalOpen,o=l.elements;let i=n.map((e,t)=>r.a.createElement(Z.a,{xxs:"12",md:"6",lg:s?"3":"4",key:t},r.a.createElement(y.a,{className:T()("d-flex","flex-row","mb-4",{"py-3":!!e.icon})},r.a.createElement(se.b,{to:e.redirect?"/app".concat(e.redirect):"#",onClick:()=>this.toggle(t),className:"d-flex"},e.icon?r.a.createElement("i",{className:T()(e.icon,"h1","mb-0","px-3","align-self-center")}):r.a.createElement(et,{small:!0,src:e.image||"https://gogo-react.coloredstrategies.com/assets/img/profile-pic-l-10.jpg",alt:e.title,className:"m-4"}),r.a.createElement("div",{className:"d-flex flex-grow-1 min-width-zero"},r.a.createElement(k.a,{className:" pl-0 align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero"},r.a.createElement("div",{className:"min-width-zero"},r.a.createElement(ne.a,{className:"mb-1"},e.title),e.subtitle?r.a.createElement(re.a,{className:"text-muted text-small mb-2"},e.subtitle):null)))))));return r.a.createElement(Z.a,{xxs:"12",lg:s?"12":"8",className:"mb-4 col-right d-inline-block align-top"},r.a.createElement("h1",{className:"font-weight-light mb-5"},a),r.a.createElement(U.a,null,i),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions()),r.a.createElement(C.a,{isOpen:c,size:"lg",toggle:()=>this.toggle()},r.a.createElement(x.a,{className:"p-4"},0===o.length?r.a.createElement("div",{className:"loading d-block mx-auto position-static"}):null,this.renderElements())))}}var at=Object(c.g)(Object(J.d)(tt)),nt=a(812),rt=a(813),st=a(705);class lt extends n.Component{constructor(e){super(e),this.onThumbClick=this.onThumbClick.bind(this),this.state={photoIndex:0,isOpen:!1}}onThumbClick(){this.setState({isOpen:!0})}render(){const e=this.state.isOpen;return r.a.createElement(n.Fragment,null,r.a.createElement(se.b,{to:"#",location:{},onClick:()=>this.onThumbClick()},r.a.createElement("img",{src:this.props.thumb,alt:"thumbnail",className:this.props.className})),e&&r.a.createElement(st.a,{mainSrc:this.props.large,onCloseRequest:()=>this.setState({isOpen:!1})}))}}var ct=lt,ot=a(714),it=a(406),mt=a.n(it);class dt extends r.a.Component{constructor(...e){super(...e),this.state={processing:!1,isOpen:!1,qrcode:""}}checkTwoFactor(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r,s,l,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.props,r=n.form,s=n.field,l=n.authenticationServer,c=n.token,!e){a.next=8;break}return t.setState({processing:!0}),a.next=5,fetch("".concat(l,"/tfa/setup"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then(function(){var e=Object(g.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({processing:!1}),a.ok){e.next=5;break}a.json().then(e=>{throw new Error(e.message)}).catch(e=>{b.a.error(e.message,"Oops!",3e3,null,null,"")}),e.next=9;break;case 5:return e.next=7,a.text();case 7:a=e.sent,t.setState({isOpen:!0,qrcode:a});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return a.abrupt("return",a.sent);case 8:return t.setState({processing:!0}),a.next=11,fetch("".concat(l,"/tfa/remove"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then(function(){var e=Object(g.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({processing:!1}),a.ok?(r.setFieldValue(s.name,!1),b.a.success("Two Factor Authentication has been turned off successfully.","Success",3e3,null,null,"")):a.json().then(e=>{throw new Error(e.message)}).catch(e=>{b.a.error(e.message,"Oops!",3e3,null,null,"")});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:return a.abrupt("return",a.sent);case 12:case"end":return a.stop()}}),a)})))()}scanSuccess(){var e=this;return Object(g.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({processing:!0}),a=e.props,n=a.authenticationServer,r=a.token,t.next=4,fetch("".concat(n,"/tfa/scan-success"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(r)}}).then(function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({processing:!1}),a.ok?b.a.success("Two Factor Authentication has been turned on successfully.","Success",3e3,null,null,""):a.json().then(e=>{throw new Error(e.message)}).catch(e=>{b.a.error(e.message,"Oops!",3e3,null,null,"")});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}toggleModal(){const e=this.state.isOpen;return this.setState({isOpen:!e})}cancel(){const e=this.props,t=e.form,a=e.field;return t.setFieldValue(a.name,!1),this.toggleModal()}scanned(){var e=this;return Object(g.a)(h.a.mark((function t(){var a,n,r,s,l,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.processing,n=e.props,r=n.form,s=n.field,l=n.user,a){t.next=11;break}return t.next=5,e.scanSuccess();case 5:r.setFieldValue(s.name,!0),l=JSON.parse(l),c=Object.assign(l,{tfaEnabled:!0}),localStorage.setItem("user",JSON.stringify(c)),e.toggleModal(),window.location.reload();case 11:case"end":return t.stop()}}),t)})))()}render(){let e=this.props,t=e.field,a=e.onKeyUp,n=e.hidden;const s=this.state,l=s.isOpen,c=s.qrcode,o=s.processing;return n?null:r.a.createElement("div",null,r.a.createElement(C.a,{backdrop:"static",centered:!0,isOpen:l,toggle:()=>this.toggleModal()},r.a.createElement(nt.a,null,"Scan QR Code"),r.a.createElement(x.a,null,r.a.createElement("div",{className:"text-center",dangerouslySetInnerHTML:{__html:c}})),r.a.createElement(rt.a,null,r.a.createElement(H.a,{color:"primary",type:"button",onClick:()=>this.cancel(),outline:!0},"Cancel"),r.a.createElement(H.a,{color:"primary",type:"button",onClick:()=>this.scanned()},o?"Processing...":"Scanned!"))),r.a.createElement(mt.a,{name:t.name,value:t.value,onBlur:t.onBlur,onKeyUp:e=>a(e),checked:t.value,onChange:e=>this.checkTwoFactor(e)}))}}var ut=Object(o.b)(({authUser:e})=>({authenticationServer:e.authenticationServer,token:e.token,user:e.user}),{})(dt);ot.addMethod(ot.string,"equalTo",(function(e,t){return ot.mixed().test({name:"equalTo",exclusive:!1,message:t||"".concat(e.path," must be the same as ").concat(e),params:{reference:e.path},test:function(t){return t===this.resolve(e)}})}));const pt=ot.object().shape({old_password:ot.string().required("Current Password is required."),new_password:ot.string().required("New Password is required."),new_password_confirmation:ot.string().required("New Password Confirmation is required.").equalTo(ot.ref("new_password"),"Passwords must match")}),ht=ot.object().shape({first_name:ot.string().required("First Name is required!"),last_name:ot.string().required("Last Name is required!"),email_address:ot.string().email("Invalid email address").required("Email is required!"),user_id:ot.string().required("User ID is required!"),tfa_enabled:ot.boolean()});class gt extends n.Component{constructor(...e){super(...e),this.state={editProfileModalOpen:!1,editPasswordModalOpen:!1,processing:!1}}toggleProfileModal(){const e=this.state.editProfileModalOpen;return this.setState({editProfileModalOpen:!e})}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}togglePasswordModal(){const e=this.state.editPasswordModalOpen;return this.setState({editPasswordModalOpen:!e})}savePassword(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r,s,l,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.props,r=n.baseURL,s=n.token,l=n.clientID,c="string"===typeof(c=n.user)?JSON.parse(c):c,t.setState({processing:!0}),a.next=5,Object(O.a)("".concat(r,"/password"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({old_password:e.old_password,new_password:e.new_password,new_password_confirmation:e.new_password_confirmation,client_id:l})}).then(e=>{e.ok?(t.setState({processing:!1,editPasswordModalOpen:!1}),b.a.success("Your password has been updated successfully.","Success",3e3,null,null,"")):e.json().then(e=>{throw t.setState({processing:!1}),new Error(e.message)}).catch(e=>{t.setState({processing:!1}),b.a.error(e.message,"Oops!",3e3,null,null,"")})});case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()}saveProfile(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r,s,l,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.props,r=n.baseURL,s=n.token,l=n.clientID,c="string"===typeof(c=n.user)?JSON.parse(c):c,t.setState({processing:!0}),a.next=5,Object(O.a)("".concat(r,"/profile"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(Object(u.a)(Object(u.a)({},e),{},{client_id:l}))}).then(function(){var e=Object(g.a)(h.a.mark((function e(a){var n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ok){e.next=4;break}a.json().then(e=>{throw t.setState({processing:!1}),new Error(e.message)}).catch(e=>{t.setState({processing:!1}),b.a.error(e.message,"Oops!",3e3,null,null,"")}),e.next=14;break;case 4:return t.setState({processing:!1,editProfileModalOpen:!1}),e.next=7,a.json();case 7:n=e.sent,delete(r=n.user).password,s=Object.assign(c,r),localStorage.setItem("user",JSON.stringify(s)),b.a.success("Your profile has been updated successfully.","Success",3e3,null,null,""),window.location.reload();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()}render(){let e=this.props,t=e.user,a=e.component.title;t="string"===typeof t?JSON.parse(t):t;const n=this.state,s=n.editProfileModalOpen,l=n.editPasswordModalOpen,c=n.processing;return r.a.createElement(Z.a,{xxs:"12",lg:"4",className:"d-inline-block align-top"},r.a.createElement("h1",{className:"font-weight-light mb-5"},a),r.a.createElement(y.a,{className:"mb-4"},r.a.createElement(ct,{thumb:t.image,large:t.image,className:"card-img-top"}),r.a.createElement(k.a,null,t.bio?r.a.createElement("div",null,r.a.createElement("p",{className:"text-muted text-small mb-2"},r.a.createElement(X.a,{id:"profile.about"})),r.a.createElement("p",{className:"mb-3"},t.bio)):null,r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement(H.a,{size:"sm",color:"primary",outline:!0,onClick:()=>this.togglePasswordModal()},"Edit Password"),r.a.createElement(H.a,{size:"sm",color:"primary",onClick:()=>this.toggleProfileModal()},"Edit Profile")),r.a.createElement(C.a,{backdrop:"static",contentClassName:"py-5 px-4",centered:!0,isOpen:l,toggle:()=>this.togglePasswordModal()},r.a.createElement(L.c,{initialValues:{old_password:"",new_password:"",new_password_confirmation:""},validationSchema:pt,onSubmit:e=>this.savePassword(e)},({errors:e,touched:t})=>r.a.createElement(L.b,{className:"av-tooltip tooltip-label-bottom"},r.a.createElement(nt.a,{tag:"div",className:"border-bottom-0 pb-0"},r.a.createElement("span",{className:"logo-single"}),r.a.createElement("h4",{className:"mb-0"},"Reset Password")),r.a.createElement(x.a,null,r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"Current Password"),r.a.createElement(L.a,{className:"form-control",name:"old_password",type:"password"}),e.old_password&&t.old_password&&r.a.createElement("div",{className:"invalid-feedback d-block"},e.old_password)),r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"New Password"),r.a.createElement(L.a,{className:"form-control",name:"new_password",type:"password"}),e.new_password&&t.new_password&&r.a.createElement("div",{className:"invalid-feedback d-block"},e.new_password)),r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"New Password Again"),r.a.createElement(L.a,{className:"form-control",name:"new_password_confirmation",type:"password"}),e.new_password_confirmation&&t.new_password_confirmation&&r.a.createElement("div",{className:"invalid-feedback d-block"},e.new_password_confirmation))),r.a.createElement(rt.a,null,r.a.createElement(H.a,{color:"primary",type:"button",onClick:()=>this.togglePasswordModal(),outline:!0},"Cancel"),r.a.createElement(H.a,{color:"primary",type:"submit",size:"lg"},c?"Processing...":"Reset"))))),r.a.createElement(C.a,{backdrop:"static",centered:!0,isOpen:s,toggle:()=>this.toggleProfileModal()},r.a.createElement(L.c,{initialValues:{first_name:t.first_name,last_name:t.last_name,email_address:t.email_address,user_id:t.user_id,tfa_enabled:t.tfaEnabled},validationSchema:ht,onSubmit:e=>this.saveProfile(e)},({errors:e,touched:t})=>r.a.createElement(L.b,{className:"av-tooltip tooltip-label-bottom"},r.a.createElement(nt.a,null,"Edit Profile"),r.a.createElement(x.a,null,r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"First Name"),r.a.createElement(L.a,{className:"form-control",name:"first_name"}),e.first_name&&t.first_name?r.a.createElement("div",{className:"invalid-feedback d-block"},e.first_name):null),r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"Last Name"),r.a.createElement(L.a,{className:"form-control",name:"last_name"}),e.last_name&&t.last_name?r.a.createElement("div",{className:"invalid-feedback d-block"},e.last_name):null),r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"E-mail Address"),r.a.createElement(L.a,{className:"form-control",name:"email_address"}),e.email_address&&t.email_address?r.a.createElement("div",{className:"invalid-feedback d-block"},e.email_address):null),r.a.createElement(ue.a,{className:"form-group has-float-label"},r.a.createElement(pe.a,null,"User ID"),r.a.createElement(L.a,{className:"form-control",name:"user_id"}),e.user_id&&t.user_id?r.a.createElement("div",{className:"invalid-feedback d-block"},e.user_id):null),r.a.createElement(ue.a,{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(pe.a,null,"Two-Factor Authentication")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(L.a,{name:"tfa_enabled",component:ut}))))),r.a.createElement(rt.a,null,r.a.createElement(H.a,{color:"primary",type:"button",onClick:()=>this.toggleProfileModal(),outline:!0},"Cancel"),r.a.createElement(H.a,{color:"primary",type:"submit"},c?"Processing...":"Save Profile"))))),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions()))))}}var bt=Object(J.d)(Object(o.b)(({authUser:e})=>({authenticationServer:e.authenticationServer}),{})(gt)),ft=a(779);a(780),a(781);let Et=-1,vt=-1;class yt extends r.a.Component{constructor(e){super(e),this.settingsThumbs={bound:!0,rewind:!1,focusAt:0,startAt:0,gap:10,perView:5,data:this.props.data,breakpoints:{576:{perView:4},420:{perView:3}}},this.settingsImages={bound:!0,rewind:!1,focusAt:0,startAt:0,gap:5,perView:1,data:this.props.data},this.onResize=this.onResize.bind(this),this.thumbsResize=this.thumbsResize.bind(this),this.onThumbClick=this.onThumbClick.bind(this),this.imagesSwipeEnd=this.imagesSwipeEnd.bind(this),this.renderDots=this.renderDots.bind(this),this.updateThumbBreakpoints=this.updateThumbBreakpoints.bind(this),this.state={total:this.settingsImages.data.length,activeIndex:0,thumbsPerView:Math.min(this.settingsThumbs.perView,this.settingsImages.data.length),renderArrows:!0},this.updateThumbBreakpoints()}updateThumbBreakpoints(){let e=this.settingsThumbs.breakpoints,t={};for(var a in e)t[a]={perView:Math.min(e[a].perView,this.state.total)};this.settingsThumbs.breakpoints=t}onThumbClick(e){this.setState({activeIndex:e}),this.glideCarouselImages.go("="+e)}thumbsResize(){let e=Math.min(this.settingsThumbs.perView,this.settingsImages.data.length);this.setState({thumbsPerView:e}),this.state.total<=e&&this.setState({renderArrows:!1})}imagesSwipeEnd(){let e=this.glideCarouselThumbs.index+this.state.thumbsPerView;this.setState({activeIndex:this.glideCarouselImages.index}),this.state.activeIndex>=e&&this.glideCarouselThumbs.go(">"),this.state.activeIndex<this.glideCarouselThumbs.index&&this.glideCarouselThumbs.go("<")}componentDidMount(){this.glideCarouselImages=new ft.a(this.carouselImages,Object(u.a)(Object(u.a)({},this.settingsImages),{},{direction:Object(O.b)().direction})),this.glideCarouselImages.mount(),this.glideCarouselThumbs=new ft.a(this.carouselThumbs,Object(u.a)(Object(u.a)({},this.settingsThumbs),{},{direction:Object(O.b)().direction})),this.glideCarouselThumbs.mount(),this.glideCarouselThumbs.on("resize",this.thumbsResize),this.glideCarouselImages.on("swipe.end",this.imagesSwipeEnd),vt=setTimeout(()=>{var e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!1),window.dispatchEvent(e),this.glideCarouselImages.on("resize",this.onResize)},500)}componentWillUnmount(){clearTimeout(Et),clearTimeout(vt),this.glideCarouselImages.destroy(),this.glideCarouselThumbs.destroy()}onResize(){clearTimeout(Et),Et=setTimeout(()=>{this.glideCarouselImages.update(),this.glideCarouselThumbs.update(),Et=-1},500)}renderDots(){let e=[];for(let t=0;t<this.state.total;t++)e.push(r.a.createElement("button",{className:"glide__bullet slider-dot",key:t,"data-glide-dir":"="+t}));return e}render(){const e=this.props.transparent;return r.a.createElement("div",{className:e?"p-5 bg-white rounded glide":"p-5"},r.a.createElement("div",{className:"glide details",ref:e=>this.carouselImages=e},r.a.createElement("div",{"data-glide-el":"track",className:"glide__track"},r.a.createElement("div",{className:"glide__slides"},this.settingsImages.data.map((e,t)=>r.a.createElement("div",{key:t},r.a.createElement("div",{className:"glide__slide text-center"},r.a.createElement("img",{alt:"detail",src:e.img||"https://gogo-react.coloredstrategies.com/assets/img/card-thumb-3.jpg",className:"responsive border-0 rounded-lg img-fluid mb-3"}))))))),r.a.createElement("div",{className:"glide thumbs",ref:e=>this.carouselThumbs=e},r.a.createElement("div",{"data-glide-el":"track",className:"glide__track"},r.a.createElement("div",{className:"glide__slides"},this.settingsThumbs.data.map((e,t)=>r.a.createElement("div",{className:t===this.state.activeIndex?"glide__slide active":"glide__slide",key:t,onClick:()=>{this.onThumbClick(t)}},r.a.createElement("img",{alt:"detail",src:e.img||"https://gogo-react.coloredstrategies.com/assets/img/card-thumb-3.jpg",className:"responsive rounded-lg img-fluid"}))))),this.state.renderArrows&&r.a.createElement("div",{className:"glide__arrows","data-glide-el":"controls"},r.a.createElement("button",{className:"glide__arrow glide__arrow--left","data-glide-dir":"<"},r.a.createElement("i",{className:"simple-icon-arrow-left"})),r.a.createElement("button",{className:"glide__arrow glide__arrow--right","data-glide-dir":">"},r.a.createElement("i",{className:"simple-icon-arrow-right"})))))}}class kt extends n.Component{constructor(...e){var t;super(...e),t=this,this.state={data:null,currentPage:0,perPage:10,totalPages:1},this.getData=Object(g.a)(h.a.mark((function e(){var a,n,r,s,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.baseURL,r=a.token,s=a.slug,l=a.clientID,c=a.component,e.next=3,Object(O.a)("".concat(n,"/details?page_slug=").concat(s,"&elementID=").concat(c.id,"&elementType=search&client_id=").concat(l),{headers:{Authorization:"Bearer ".concat(r)}}).then(e=>e.json()).then(e=>{t.setState({currentPage:e.page,data:e.data,perPage:e.pageSize,totalPages:e.total_pages})}).catch(e=>console.error(e));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.renderData=e=>this.state.data.map(t=>r.a.createElement("div",{key:t.id,"aria-current":"page",className:T()("row","align-items-center","justify-content-center","mb-4","active")},r.a.createElement("div",{className:T()({"col-md-3":!e||!1},{"col-md-2":e||!1},{"text-center":e||!1})},r.a.createElement(et,{small:e||!1,rounded:e||!1,className:"p-0",alt:t.title,src:t.image})),r.a.createElement("div",{className:T()({"col-md-9":!e||!1},{"col-md-10":e||!1})},r.a.createElement("p",{className:"list-item-heading mb-1"},t.title),r.a.createElement("div",{style:{fontSize:10},dangerouslySetInnerHTML:{__html:this.extractContent(t.description).substring(0,80)},className:"mb-1 text-small"}),r.a.createElement("p",{className:"text-primary text-small mb-0"},t.date))))}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}componentDidMount(){var e=this;return Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}extractContent(e){const t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}onPageChange(e){var t=this;return Object(g.a)(h.a.mark((function a(){var n,r,s,l,c,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.props,r=n.baseURL,s=n.token,l=n.slug,c=n.clientID,o=n.component,a.next=3,Object(O.a)("".concat(r,"/details?page_slug=").concat(l,"&elementID=").concat(o.id,"&elementType=search&client_id=").concat(c,"&currentPage=").concat(e+1),{headers:{Authorization:"Bearer ".concat(s)}}).then(e=>e.json()).then(e=>{t.setState({currentPage:e.current_page,data:e.data,perPage:e.per_page,totalPages:e.last_page})}).catch(e=>console.error(e));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()}render(){const e=this.state,t=e.data,a=e.currentPage,n=e.totalPages,s=this.props.component,l=s.title,c=s.isSmall;return t?r.a.createElement("div",{className:"bg-white pb-2 pt-4 px-4 rounded-lg shadow-sm"},r.a.createElement("h2",{className:"mb-3"},l?l.charAt(0).toUpperCase()+l.slice(1):null),this.renderData(c),this.state.data.length>=this.state.perPage?r.a.createElement(Ge,{canNext:!0,canPrevious:!0,onPageChange:e=>this.onPageChange(e),page:a-1,pages:n}):null):null}}var wt=kt,Nt=a(814),Ct=a(799),xt=a(800),Ot=a(801),St=a(815),jt=a(816);class Pt extends n.Component{constructor(...e){super(...e),this.state={activeTab:null},this.toggleTab=e=>{this.state.activeTab!==e&&this.setState({activeTab:e})}}componentDidMount(){const e=this.props.component.tabs;return this.setState({activeTab:e[0].id})}renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}render(){const e=this.state.activeTab,t=this.props.component.tabs;return r.a.createElement("div",null,r.a.createElement(y.a,{className:"mb-4"},r.a.createElement(Nt.a,null,r.a.createElement(Ct.a,{tabs:!0,className:"card-header-tabs"},t.map((t,a)=>r.a.createElement(xt.a,{key:a},r.a.createElement(Ot.a,{className:T()({active:e===t.id,"nav-link":!0}),onClick:()=>{this.toggleTab(t.id)},to:"#",location:{}},t.title))))),r.a.createElement(St.a,{activeTab:e},t.map(e=>{const t=e.children;return r.a.createElement(jt.a,{key:e.id,tabId:e.id},r.a.createElement(U.a,null,r.a.createElement(Z.a,{sm:"12"},r.a.createElement(k.a,null,t.map((e,t)=>{const a=e.type;if("chart"===a){const a=e.kind;if("pie"===a)return r.a.createElement(Ye,{key:t,className:"shadow-none",shadow:!1,component:e});if("bar"===a)return r.a.createElement(Be,{key:t,className:"shadow-none",shadow:!1,component:e});if("area"===a)return r.a.createElement(Fe,{key:t,className:"shadow-none",shadow:!1,component:e});if("line"===a)return r.a.createElement(He,{key:t,className:"shadow-none",shadow:!1,component:e});if("doughnut"===a)return r.a.createElement(Ue,{key:t,className:"shadow-none",shadow:!1,component:e})}if("calendar"===a)return r.a.createElement(qe,{key:t,component:e});if("productDescriptionText"===a)return r.a.createElement(At,Object.assign({key:t},this.props,{component:e}));if("table"===a)return r.a.createElement(Qe,{key:t,component:e});if("card"===a)return r.a.createElement(y.a,Object.assign({key:t},this.props,{component:e}));if("wizard"===a)return r.a.createElement(f.a,Object.assign({key:t},this.props,{component:e}));if("productCardList"===a)return r.a.createElement(me,Object.assign({inCard:!0,key:t},this.props,{component:e}));if("productList"===a)return r.a.createElement(Oe,Object.assign({inCard:!0,key:t},this.props,{dynamicComponent:e}));if("userCard"===a)return r.a.createElement(at,Object.assign({},this.props,{key:t,component:e}));if("profileCard"===a)return r.a.createElement(bt,Object.assign({},this.props,{component:e}));if("thumbCarousel"===a){const a=e.data.map(e=>({id:e.id,img:e.img}));return r.a.createElement(yt,Object.assign({},this.props,{key:t,data:a,component:e}))}return"search"===a?r.a.createElement(wt,Object.assign({},this.props,{key:t,component:e})):"tabs"===a?r.a.createElement(Pt,Object.assign({},this.props,{key:t,component:e})):null})))))})),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions())))}}var _t=Pt;class It extends n.Component{renderFunctions(){let e=this.props.component.functions;return e=e?e.map(e=>e in w?w[e]():null).filter(e=>null!==e):[],e}render(){let e=this.props.component.data;return r.a.createElement("div",null,r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e}}),r.a.createElement("div",{className:"row justify-content-end mt-5 mx-5"},this.renderFunctions()))}}var At=It;var Mt=({component:e})=>{const t=e.data.map((e,t)=>r.a.createElement("div",{className:"col",key:t},r.a.createElement(y.a,null,r.a.createElement(k.a,{className:"text-center px-0"},e.icon?r.a.createElement("i",{className:T()(e.icon,"text-primary","h1","mb-0","px-3","align-self-center")}):r.a.createElement(et,{small:!0,src:e.image||"https://gogo-react.coloredstrategies.com/assets/img/profile-pic-l-10.jpg",alt:e.title,className:"m-4"}),r.a.createElement("p",{className:"card-text font-weight-semibold my-2"},e.title),r.a.createElement("p",{className:"lead text-center mb-0"},e.data)))));return r.a.createElement("div",{className:T()("row")},t)}},221:function(e,t,a){"use strict";var n=a(5),r=a(1),s=a.n(r),l=a(273);class c extends s.a.Component{render(){let e=this.props,t=e.options,a=e.field,r=e.form,c=e.onChange,o=e.onKeyUp;return e.hidden?null:s.a.createElement(l.b,{styles:{menu:(e,t)=>Object(n.a)(Object(n.a)({},e),{},{zIndex:1040})},name:a.name,value:a.value,onBlur:a.onBlur,onKeyUp:e=>o(e),onChange:e=>(r.setFieldValue(a.name,e),c(e)),classNamePrefix:"react-select",isMulti:!0,options:t})}}t.a=c},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i}));var n=a(1),r=a.n(n);var s=()=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},r.a.createElement("path",{className:"view-icon-svg",d:"M17.5,3H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M17.5,10H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M17.5,17H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}));var l=()=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},r.a.createElement("path",{className:"view-icon-svg",d:"M17.5,3H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M3,2V3H1V2H3m.12-1H.88A.87.87,0,0,0,0,1.88V3.12A.87.87,0,0,0,.88,4H3.12A.87.87,0,0,0,4,3.12V1.88A.87.87,0,0,0,3.12,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M3,9v1H1V9H3m.12-1H.88A.87.87,0,0,0,0,8.88v1.24A.87.87,0,0,0,.88,11H3.12A.87.87,0,0,0,4,10.12V8.88A.87.87,0,0,0,3.12,8Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M3,16v1H1V16H3m.12-1H.88a.87.87,0,0,0-.88.88v1.24A.87.87,0,0,0,.88,18H3.12A.87.87,0,0,0,4,17.12V15.88A.87.87,0,0,0,3.12,15Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M17.5,10H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M17.5,17H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}));var c=()=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},r.a.createElement("path",{className:"view-icon-svg",d:"M7,2V8H1V2H7m.12-1H.88A.87.87,0,0,0,0,1.88V8.12A.87.87,0,0,0,.88,9H7.12A.87.87,0,0,0,8,8.12V1.88A.87.87,0,0,0,7.12,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M17,2V8H11V2h6m.12-1H10.88a.87.87,0,0,0-.88.88V8.12a.87.87,0,0,0,.88.88h6.24A.87.87,0,0,0,18,8.12V1.88A.87.87,0,0,0,17.12,1Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M7,12v6H1V12H7m.12-1H.88a.87.87,0,0,0-.88.88v6.24A.87.87,0,0,0,.88,19H7.12A.87.87,0,0,0,8,18.12V11.88A.87.87,0,0,0,7.12,11Z"}),r.a.createElement("path",{className:"view-icon-svg",d:"M17,12v6H11V12h6m.12-1H10.88a.87.87,0,0,0-.88.88v6.24a.87.87,0,0,0,.88.88h6.24a.87.87,0,0,0,.88-.88V11.88a.87.87,0,0,0-.88-.88Z"}));var o=()=>r.a.createElement(n.Fragment,null,r.a.createElement("svg",{className:"main",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9 17"},r.a.createElement("rect",{x:"0.48",y:"0.5",width:"7",height:"1"}),r.a.createElement("rect",{x:"0.48",y:"7.5",width:"7",height:"1"}),r.a.createElement("rect",{x:"0.48",y:"15.5",width:"7",height:"1"})),r.a.createElement("svg",{className:"sub",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 17"},r.a.createElement("rect",{x:"1.56",y:"0.5",width:"16",height:"1"}),r.a.createElement("rect",{x:"1.56",y:"7.5",width:"16",height:"1"}),r.a.createElement("rect",{x:"1.56",y:"15.5",width:"16",height:"1"})));var i=()=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 17"},r.a.createElement("rect",{x:"0.5",y:"0.5",width:"25",height:"1"}),r.a.createElement("rect",{x:"0.5",y:"7.5",width:"25",height:"1"}),r.a.createElement("rect",{x:"0.5",y:"15.5",width:"25",height:"1"}))},299:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),r=a.n(n),s=a(179),l=a(212);class c extends n.Component{render(){const e=this.props.processing;return r.a.createElement(s.WithWizard,{render:({next:t,previous:a,step:n,steps:s})=>r.a.createElement("div",{className:"wizard-buttons "+this.props.className},s.indexOf(n)>0?r.a.createElement(l.a,{color:"primary",disabled:s.indexOf(n)<=0||e,className:"mr-1 "+(s.indexOf(n)<=0||e?"disabled":""),onClick:()=>{this.props.onClickPrev(a,s,n)}},this.props.prevLabel):null,r.a.createElement(l.a,{color:"primary",disabled:e,type:"submit",className:e?"disabled":"",onClick:()=>{this.props.onClickNext(t,s,n)}},s.indexOf(n)>=s.length-1?"Submit":this.props.nextLabel))})}}},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),r=a.n(n),s=a(179),l=a(89);class c extends n.Component{constructor(e){super(e),this.getClassName=this.getClassName.bind(this),this.itemClick=this.itemClick.bind(this)}getClassName(e,t,a,n){return e.indexOf(t)===a?"step-doing":e.indexOf(t)>a||n.isDone?(n.isDone=!0,"step-done"):void 0}itemClick(e,t){this.props.disableNav||this.props.topNavClick(e,t)}render(){return r.a.createElement(s.WithWizard,{render:({next:e,previous:t,step:a,steps:s,go:c,push:o})=>r.a.createElement("ul",{className:"nav nav-tabs "+this.props.className+(this.props.disableNav?" disabled":"")},s.map((e,t)=>e.hideTopNav?r.a.createElement(n.Fragment,{key:t}):r.a.createElement("li",{key:t,className:"nav-item "+this.getClassName(s,a,t,e)},r.a.createElement(l.b,{to:"#",location:{},className:"nav-link",onClick:()=>this.itemClick(e,o)},r.a.createElement("span",null,e.name),r.a.createElement("small",null,e.desc)))))})}}},323:function(e,t,a){"use strict";var n=a(5),r=a(1),s=a.n(r),l=a(273);class c extends s.a.Component{render(){let e=this.props,t=e.options,a=e.field,r=e.form,c=e.onChange,o=e.onKeyUp;return e.hidden?null:s.a.createElement(l.b,{styles:{menu:(e,t)=>Object(n.a)(Object(n.a)({},e),{},{zIndex:1040})},name:a.name,value:t.find(e=>e.value===a.value),onBlur:a.onBlur,onKeyUp:e=>o(e),onChange:e=>{if(r.setFieldValue(a.name,e.value),c)return c(e)},classNamePrefix:"react-select",options:t})}}t.a=c},824:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(96),l=a(23),c=a(103),o=a(795),i=a(796),m=a(797),d=a(798),u=a(89),p=a(3),h=a(8),g=a(269),b=a(5),f=a(4),E=a.n(f),v=a(15),y=a(16),k=a.n(y),w=a(817),N=a(283),C=a.n(N),x=a(95),O=a(9),S=a(284),j=a.n(S),P=a(107),_=a.n(P),I=(a(285),a(286)),A=a.n(I),M=a(204),z=a(98),L=a(187),D=a.n(L),T=a(85),R=a.n(T),F=a(17);const B=({onClick:e,token:t,loginUser:a,baseURL:n,webSocketURL:s,clientID:l,clientSecret:c,id:o,image:i,message:m,payload:d,data_creation:u,action:p,type:h,seen:g,created_at:b})=>{const f=function(){var o=Object(v.a)(E.a.mark((function o(i,m){return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i.preventDefault(),e(m),o.next=4,Object(F.a)("".concat(s,"/notification/").concat(m),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>e.ok?e.json():e.json().then(e=>{throw new Error(e.message)})).then(e=>{const s=e.url,o=e.type,i=e.resourceURI;if(o){if("externalLink"===o)return window.open(s,"_blank");if("file"===o)return j.a.saveAs(i);if("modal"===o){let s=e.components.map((e,s)=>{const o=e.type,i=e.slug;if("datatable"===o)return r.a.createElement(M.f,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e});if("ddl"===o)return r.a.createElement(M.e,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e});if("card"===o)return r.a.createElement(M.d,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e});if("wizard"===o)return r.a.createElement(z.a,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e});if("productCardList"===o)return r.a.createElement(M.l,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e});if("productList"===o)return r.a.createElement(M.n,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e});if("chart"===o){const t=e.kind;return"pie"===t?r.a.createElement("div",{key:s},r.a.createElement(M.k,{shadow:!0,component:e})):"bar"===t?r.a.createElement("div",{key:s},r.a.createElement(M.b,{shadow:!0,component:e})):"area"===t?r.a.createElement("div",{key:s},r.a.createElement(M.a,{shadow:!0,component:e})):"line"===t?r.a.createElement("div",{key:s},r.a.createElement(M.j,{shadow:!0,component:e})):"doughnut"===t?r.a.createElement("div",{key:s},r.a.createElement(M.g,{shadow:!0,component:e})):r.a.createElement("div",{key:s},r.a.createElement(M.a,{shadow:!0,component:e}))}return"calendar"===o?r.a.createElement(M.c,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e}):"table"===o?r.a.createElement(w.a,{slug:i,token:t,user:a,clientSecret:c,baseURL:n,clientID:l,identifier:e.id,key:s,component:e}):null}),o=D.a.dialog({message:'<div class="loading" />',closeButton:!1,backdrop:!0,centerVertical:!0,onEscape:!0,scrollable:!0,size:"extra-large"});o.init((function(){let e=o.find(".modal-content").addClass("modal-dialog-centered modal-dialog-scrollable").find(".modal-body").addClass("w-100").find(".bootbox-body");return k.a.render(s,e[0])}))}}}).catch(e=>x.a.error(e.message,"Notification Error",3e3,null,null,""));case 4:return o.abrupt("return",o.sent);case 5:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}(),y=_()(_.a.utc(u).toDate()).local().fromNow();return r.a.createElement("a",{className:R()("scrollbar-notification-item","d-flex","flex-row","py-3","px-4","border-bottom",{"bg-light":"N"===g}),href:"/",onClick:e=>f(e,o)},i?r.a.createElement("img",{src:i,alt:m,className:"img-thumbnail list-thumbnail xsmall border-0 rounded-circle"}):null,r.a.createElement("div",{className:"pl-3 pr-2"},r.a.createElement("p",{className:"font-weight-medium mb-1"},m),r.a.createElement("p",{className:"text-muted mb-0 text-small"},y)))};class U extends r.a.Component{constructor(...e){var t;super(...e),t=this,this.state={loadingNotifications:!1,notifications:[],unreadNotificationsCount:0,nextPageURL:null,dropdownOpened:!1},this.getNotifications=Object(v.a)(E.a.mark((function e(){var a,n,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.token,r=a.webSocketURL,s=a.clientID,e.next=3,Object(F.a)("".concat(r,"/notifications?client_id=").concat(s),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then(e=>e.json()).then(e=>t.setState({nextPageURL:e.nextPageURL,notifications:e.notifications,unreadNotificationsCount:parseInt(e.unreadNotificationsCount,10)})).catch(e=>console.error(e));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.markAllNotificationsAsRead=Object(v.a)(E.a.mark((function e(){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.token,r=a.webSocketURL,a.clientID,e.next=3,Object(F.a)("".concat(r,"/notifications"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then(e=>e.json()).then(e=>t.setState({notifications:e.notifications,unreadNotificationsCount:0})).catch(e=>console.error(e));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.renderNotifications=e=>{if(0===e.length)return r.a.createElement("div",{className:"scrollbar-notification-item w-100 d-flex flex-row justify-content-center align-items-center mb-3 py-0 px-4"},r.a.createElement("p",{className:"font-weight-medium font-italic mb-0"},"No notification"));const t=Array.isArray(e)?e.filter(e=>"N"===e.seen).map((e,t)=>r.a.createElement(B,Object.assign({key:t,onClick:e=>this.onClick(e)},this.props,e))):[],a=Array.isArray(e)?e.filter(e=>"S"===e.seen).map((e,t)=>r.a.createElement(B,Object.assign({key:t,onClick:e=>this.onClick(e)},this.props,e))):[],n=r.a.createElement("div",{key:"unique_01",className:"scrollbar-notification-item notification-action-item w-100 d-flex flex-row justify-content-start py-2 px-4 border-bottom"},r.a.createElement("span",null,"New")),s=r.a.createElement("div",{key:"unique_02",className:"scrollbar-notification-item notification-action-item w-100 d-flex flex-row justify-content-start py-2 px-4 border-bottom"},r.a.createElement("span",null,"Earlier"));return[t.length>0?n:null,...t,t.length>0?s:null,...a]}}componentDidMount(){var e=this;return Object(v.a)(E.a.mark((function t(){var a,n,r,s,l,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNotifications();case 2:a=e.props,n=a.loginUser,r=a.token,s=a.webSocketURL,l="string"===typeof n?JSON.parse(n):n,"undefined"!==typeof A.a&&((c=A()(s,{extraHeaders:{"x-auth-token":r},transportOptions:{polling:{extraHeaders:{"x-auth-token":r}}}})).on("error",(function(e){throw new Error(e)})),c.on("private.notifications.User.".concat(l.id),t=>{const a=e.state,n=a.notifications,r=a.unreadNotificationsCount;e.setState({notifications:[t,...n],unreadNotificationsCount:r+1})}));case 5:case"end":return t.stop()}}),t)})))()}onClick(e){const t=this.state,a=t.notifications,n=t.unreadNotificationsCount,r=a.find(t=>t.id===e),s=a.filter(t=>t.id!==e);return this.setState({unreadNotificationsCount:n-1,notifications:[...s,Object(b.a)(Object(b.a)({},r),{},{seen:"S"})]}),this.forceUpdate()}dropdownToggle(e){const t=this.state,a=t.dropdownOpened,n=t.notifications;return this.setState({dropdownOpened:!a,notifications:n})}loadMoreNotifications(e){var t=this;return Object(v.a)(E.a.mark((function a(){var n,r,s,l,c,o,i,m;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.props,r=n.token,s=n.clientID,l=t.state,c=l.nextPageURL,o=l.notifications,i=l.loadingNotifications,m=e.scrollTop,!(e.scrollHeight-m<=300)){a.next=10;break}if(i||null===c){a.next=10;break}return t.setState({loadingNotifications:!0}),a.next=9,Object(F.a)("".concat(c,"&client_id=").concat(s),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then(e=>e.json()).then(a=>(t.setState({nextPageURL:a.nextPageURL,notifications:[...o,...a.notifications],loadingNotifications:!1}),e.scrollTop=e.scrollTop-300)).catch(e=>console.error(e));case 9:return a.abrupt("return",a.sent);case 10:case"end":return a.stop()}}),a)})))()}render(){const e=this.state,t=e.notifications,a=e.loadingNotifications,n=e.dropdownOpened,s=e.unreadNotificationsCount,l=(Array.isArray(t)&&t.filter(e=>"N"===e.seen),Array.isArray(t)?t.sort((e,t)=>_()(t.created_at).isAfter(_()(e.created_at))):[]),c=r.a.createElement("div",{className:"scrollbar-notification-item notification-action-item notification-top-action-item w-100 position-sticky d-flex flex-row justify-content-end py-2 px-4 border-bottom"},r.a.createElement("button",{className:"btn btn-link p-0 text-decoration-none notification-action",onClick:()=>this.markAllNotificationsAsRead()},"Mark All as Read")),d=r.a.createElement("div",{className:"scrollbar-notification-item notification-action-item notification-bottom-action-item w-100 position-sticky d-flex flex-row justify-content-center py-2 px-4 border-bottom"},r.a.createElement("button",{className:"btn btn-link p-0 text-decoration-none notification-action",onClick:()=>this.props.history.push("/app/notifications")},"See all"));return r.a.createElement("div",{className:"position-relative d-inline-block"},r.a.createElement(o.a,{isOpen:n,className:"dropdown-menu-right",toggle:e=>this.dropdownToggle(e)},r.a.createElement(i.a,{className:"header-icon notificationButton",color:"empty"},r.a.createElement("i",{className:"simple-icon-bell"}),s>0?r.a.createElement("span",{className:"count"},s):null),r.a.createElement(m.a,{className:"position-absolute mt-3 scroll py-0",right:!0,id:"notificationDropdown"},r.a.createElement(C.a,{onScrollDown:e=>this.loadMoreNotifications(e),className:R()({"d-flex align-items-center justify-content-center mx-0":0===l.length}),options:{suppressScrollX:!0,wheelPropagation:!1}},l.length>0?c:null,this.renderNotifications(l),a?r.a.createElement("div",{className:"text-center mt-4 py-1"},r.a.createElement("div",{className:"loading position-static"})):null,l.length>0?d:null))))}}var H=Object(l.b)(({authUser:e})=>({token:e.token,baseURL:e.baseURL,loginUser:e.user,clientID:e.clientID,clientSecret:e.clientSecret,webSocketURL:e.webSocketURL}),{logoutUser:O.h})(Object(s.g)(U)),Y=a(406),W=a.n(Y),V=(a(37),a(826));class K extends n.Component{constructor(e){super(e),this.toggle=()=>{this.setState(e=>({tooltipOpen:!e.tooltipOpen}))},this.getColor=()=>localStorage.getItem(h.k)?localStorage.getItem(h.k):h.b,this.changeMode=()=>{let e=this.getColor();e.indexOf("dark")>-1?e=e.replace("dark","light"):e.indexOf("light")>-1&&(e=e.replace("light","dark")),this.setState({switchChecked:e.indexOf("dark")>-1},()=>{localStorage.setItem(h.k,e),setTimeout(()=>{window.location.reload()},500)})},this.state={switchChecked:!1,tooltipOpen:!1}}componentDidMount(){const e=this.getColor();this.setState({switchChecked:e.indexOf("dark")>-1})}render(){return r.a.createElement("div",{className:"d-none d-md-inline-block align-middle mr-3"},r.a.createElement(W.a,{id:"Tooltip-Switch",className:"custom-switch custom-switch-primary custom-switch-small",checked:this.state.switchChecked,onChange:this.changeMode}),r.a.createElement(V.a,{placement:"left",isOpen:this.state.tooltipOpen,target:"Tooltip-Switch",toggle:this.toggle},"Dark Mode"))}}class q extends n.Component{constructor(e){super(e),this.handleChangeLocale=(e,t)=>{this.props.changeLocale(e);t!==Object(F.b)().direction&&(Object(F.c)(t),setTimeout(()=>{window.location.reload()},500))},this.isInFullScreen=()=>document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement,this.handleSearchIconClick=e=>{if(window.innerWidth<h.i){let t=e.target;e.target.classList.contains("search")||(e.target.parentElement.classList.contains("search")?t=e.target.parentElement:e.target.parentElement.parentElement.classList.contains("search")&&(t=e.target.parentElement.parentElement)),t.classList.contains("mobile-view")?(this.search(),t.classList.remove("mobile-view"),this.removeEventsSearch()):(t.classList.add("mobile-view"),this.addEventsSearch())}else this.search()},this.addEventsSearch=()=>{document.addEventListener("click",this.handleDocumentClickSearch,!0)},this.removeEventsSearch=()=>{document.removeEventListener("click",this.handleDocumentClickSearch,!0)},this.handleDocumentClickSearch=e=>{let t=!1;if(e.target&&e.target.classList&&(e.target.classList.contains("navbar")||e.target.classList.contains("simple-icon-magnifier"))?(t=!0,e.target.classList.contains("simple-icon-magnifier")&&this.search()):e.target.parentElement&&e.target.parentElement.classList&&e.target.parentElement.classList.contains("search")&&(t=!0),!t){const e=document.querySelector(".mobile-view");e&&e.classList&&e.classList.remove("mobile-view"),this.removeEventsSearch(),this.setState({searchKeyword:""})}},this.handleSearchInputChange=e=>{this.setState({searchKeyword:e.target.value})},this.handleSearchInputKeyPress=e=>{"Enter"===e.key&&this.search()},this.search=()=>{this.props.history.push("/search/"+this.state.searchKeyword),this.setState({searchKeyword:""})},this.toggleFullScreen=()=>{const e=this.isInFullScreen();var t=document.documentElement;e?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),this.setState({isInFullScreen:!e})},this.handleLogout=()=>{this.props.logoutUser(this.props.history)},this.menuButtonClick=(e,t,a)=>{e.preventDefault(),setTimeout(()=>{var e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!1),window.dispatchEvent(e)},350),this.props.setContainerClassnames(++t,a,this.props.selectedMenuHasSubItems)},this.mobileMenuButtonClick=(e,t)=>{e.preventDefault(),this.props.clickOnMobileMenu(t)},this.getInitials=e=>{"undefined"==typeof e&&(e=!0);let t=e.replace(/[^a-zA-Z- ]/g,"").match(/\b\w/g);return e?t.join(""):t},this.state={isInFullScreen:!1,searchKeyword:""}}render(){const e=this.props,t=e.containerClassnames,a=e.menuClickCount,n=e.locale,s=e.user;return r.a.createElement("nav",{className:"navbar fixed-top"},r.a.createElement("div",{className:"d-flex align-items-center navbar-left"},r.a.createElement(u.b,{to:"#",location:{},className:"menu-button d-none d-md-block",onClick:e=>this.menuButtonClick(e,a,t)},r.a.createElement(g.c,null)),r.a.createElement(u.b,{to:"#",location:{},className:"menu-button-mobile d-xs-block d-sm-block d-md-none",onClick:e=>this.mobileMenuButtonClick(e,t)},r.a.createElement(g.d,null)),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(o.a,{className:"ml-2"},r.a.createElement(i.a,{caret:!0,color:"light",size:"sm",className:"language-button"},r.a.createElement("span",{className:"name"},n.toUpperCase())),r.a.createElement(m.a,{className:"mt-3",right:!0},h.h.map(e=>r.a.createElement(d.a,{onClick:()=>this.handleChangeLocale(e.id,e.direction),key:e.id},e.name)))))),r.a.createElement("a",{className:"navbar-logo",href:"/"},r.a.createElement("span",{className:"logo d-none d-xs-block"}),r.a.createElement("span",{className:"logo-mobile d-block d-xs-none"})),r.a.createElement("div",{className:"navbar-right"},h.f&&r.a.createElement(K,null),r.a.createElement("div",{className:"header-icons d-inline-block align-middle"},h.a&&r.a.createElement(H,null),r.a.createElement("button",{className:"header-icon btn btn-empty d-none d-sm-inline-block",type:"button",id:"fullScreenButton",onClick:this.toggleFullScreen},this.state.isInFullScreen?r.a.createElement("i",{className:"simple-icon-size-actual d-block"}):r.a.createElement("i",{className:"simple-icon-size-fullscreen d-block"}))),r.a.createElement("div",{className:"user d-inline-block"},r.a.createElement(o.a,{className:"dropdown-menu-right"},r.a.createElement(i.a,{className:"font-weight-light d-flex align-items-center justify-content-center p-0",color:"empty"},r.a.createElement("span",{className:"name"},"".concat(s.first_name," ").concat(s.last_name)),r.a.createElement("span",null,r.a.createElement("img",{className:"mr-3",alt:"".concat(s.first_name," ").concat(s.last_name),src:s.image}))),r.a.createElement(m.a,{className:"mt-3",right:!0},r.a.createElement(d.a,{onClick:()=>this.handleLogout()},"Sign out"))))))}}var J=Object(c.d)(Object(l.b)(({authUser:e,menu:t,settings:a})=>{const n=t.containerClassnames,r=t.menuClickCount,s=t.selectedMenuHasSubItems,l=a.locale,c=e.user;return{containerClassnames:n,menuClickCount:r,selectedMenuHasSubItems:s,locale:l,user:"string"==typeof c?JSON.parse(c):c}},{setContainerClassnames:p.G,clickOnMobileMenu:p.z,logoutUser:p.D,changeLocale:p.x})(q)),Z=a(799),X=a(800),G=a(794);class $ extends n.Component{constructor(e){var t;super(e),t=this,this.handleWindowResize=function(){var e=Object(v.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||a.isTrusted){e.next=2;break}return e.abrupt("return");case 2:return n=t.props.containerClassnames,r=t.getMenuClassesForResize(n),e.next=6,t.props.setContainerClassnames(0,r.join(" "),t.props.selectedMenuHasSubItems);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleDocumentClick=e=>{const t=this.getContainer();let a=!1;(e.target&&e.target.classList&&(e.target.classList.contains("menu-button")||e.target.classList.contains("menu-button-mobile"))||e.target.parentElement&&e.target.parentElement.classList&&(e.target.parentElement.classList.contains("menu-button")||e.target.parentElement.classList.contains("menu-button-mobile"))||e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.classList&&(e.target.parentElement.parentElement.classList.contains("menu-button")||e.target.parentElement.parentElement.classList.contains("menu-button-mobile")))&&(a=!0),t.contains(e.target)||t===e.target||a||(this.setState({viewingParentMenu:""}),this.toggle())},this.getMenuClassesForResize=e=>{const t=this.props,a=t.menuHiddenBreakpoint,n=t.subHiddenBreakpoint;let r=e.split(" ").filter(e=>""!==e);const s=window.innerWidth;return s<a?r.push("menu-mobile"):s<n?(r=r.filter(e=>"menu-mobile"!==e),r.includes("menu-default")&&!r.includes("menu-sub-hidden")&&r.push("menu-sub-hidden")):(r=r.filter(e=>"menu-mobile"!==e),r.includes("menu-default")&&r.includes("menu-sub-hidden")&&(r=r.filter(e=>"menu-sub-hidden"!==e))),r},this.getContainer=()=>k.a.findDOMNode(this),this.toggle=()=>{const e=this.getIsHasSubItem();this.props.changeSelectedMenuHasSubItems(e);const t=this.props,a=t.containerClassnames,n=t.menuClickCount,r=a?a.split(" ").filter(e=>""!==e):"";let s=-1;e?r.includes("menu-sub-hidden")&&3===n?s=2:(r.includes("menu-hidden")||r.includes("menu-mobile"))&&(s=0):!r.includes("menu-default")||n%4!==0&&n%4!==3?!r.includes("menu-sub-hidden")||2!==n&&3!==n?(r.includes("menu-hidden")||r.includes("menu-mobile"))&&(s=0):s=0:s=1,s>=0&&this.props.setContainerClassnames(s,a,e)},this.handleProps=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addEvents();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.addEvents=()=>{["click","touchstart","touchend"].forEach(e=>document.addEventListener(e,this.handleDocumentClick,!0))},this.removeEvents=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:["click","touchstart","touchend"].forEach(e=>document.removeEventListener(e,t.handleDocumentClick,!0));case 1:case"end":return e.stop()}}),e)}))),this.setSelectedLiActive=function(){var e=Object(v.a)(E.a.mark((function e(a){var n,r,s,l,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=(n=document.querySelector(".sub-menu  li.active"))&&n.classList.remove("active"),null!=(r=document.querySelector(".third-level-menu  li.active"))&&r.classList.remove("active"),null!=(s=document.querySelector(".third-level-menu  a.active"))&&s.parentElement.classList.add("active"),null!=(l=document.querySelector(".sub-menu  a.active"))?(l.parentElement.classList.add("active"),t.setState({selectedParentMenu:l.parentElement.parentElement.getAttribute("data-parent")},a)):(c=t.state.menuItems,null!=(o=document.querySelector(".main-menu  li a.active"))?t.setState({selectedParentMenu:o.getAttribute("data-flag")},a):""===t.state.selectedParentMenu&&t.setState({selectedParentMenu:c[0]?c[0].page.slug:null},a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setHasSubItemStatus=()=>{const e=this.getIsHasSubItem();this.props.changeSelectedMenuHasSubItems(e),this.toggle()},this.getIsHasSubItem=()=>{const e=this.state,t=e.selectedParentMenu,a=e.menuItems,n=a?a.find(e=>e.id===t):null;return!!n&&!!(n&&n.children&&n.children.length>0)},this.openSubMenu=(e,t)=>{const a=t.id,n=t.children&&t.children.length>0;if(this.props.changeSelectedMenuHasSubItems(n),n){e.preventDefault();const t=this.props,r=t.containerClassnames,s=t.menuClickCount,l=r?r.split(" ").filter(e=>""!==e):"";l.includes("menu-mobile")?this.props.addContainerClassname("sub-show-temporary",r):!l.includes("menu-sub-hidden")||2!==s&&0!==s?!l.includes("menu-hidden")||1!==s&&3!==s?!l.includes("menu-default")||l.includes("menu-sub-hidden")||1!==s&&3!==s||this.props.setContainerClassnames(0,r,n):this.props.setContainerClassnames(2,r,n):this.props.setContainerClassnames(3,r,n),this.setState({viewingParentMenu:a})}else this.setState({viewingParentMenu:a,selectedParentMenu:a}),this.toggle()},this.toggleMenuCollapse=(e,t)=>{e.preventDefault();let a=this.state.collapsedMenus;return a.indexOf(t)>-1?this.setState({collapsedMenus:a.filter(e=>e!==t)}):(a.push(t),this.setState({collapsedMenus:a})),!1},this.state={selectedParentMenu:1,viewingParentMenu:"",collapsedMenus:[],menuItems:[],isMounted:!1}}getMenu(){var e=this;return Object(v.a)(E.a.mark((function t(){var a,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.token,r=a.baseURL,t.next=3,Object(F.a)("".concat(r,"/menu"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then(e=>e.json()).then(t=>{if(e.state.isMounted&&(e.setState({menuItems:t}),t.length>0&&e.props.match.isExact))return e.props.history.push("/app/".concat(t[0].page.slug))}).catch(e=>e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}componentDidUpdate(e){this.state.isMounted&&(this.props.location.pathname!==e.location.pathname&&(this.setSelectedLiActive(this.setHasSubItemStatus),window.scrollTo(0,0)),this.handleProps())}componentDidMount(){var e=this;return Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isMounted:!0},Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMenu();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),!e.state.isMounted){t.next=9;break}return window.addEventListener("resize",e.handleWindowResize),t.next=5,e.handleWindowResize();case 5:return t.next=7,e.setSelectedLiActive(e.setHasSubItemStatus);case 7:return t.next=9,e.handleProps();case 9:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){var e=this;return Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isMounted){t.next=4;break}return t.next=3,e.removeEvents();case 3:window.removeEventListener("resize",e.handleWindowResize);case 4:case"end":return t.stop()}}),t)})))()}render(){let e=this.state,t=e.selectedParentMenu,a=e.viewingParentMenu,s=e.collapsedMenus,l=e.menuItems;return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"main-menu"},r.a.createElement("div",{className:"scroll"},r.a.createElement(C.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},r.a.createElement(Z.a,{vertical:!0,className:"list-unstyled"},l&&l.map(e=>r.a.createElement(X.a,{key:e.id,to:e.to,className:R()({active:t===e.id&&""===a||a===e.id})},e.newWindow?r.a.createElement("a",{href:"".concat("/app/").concat(e.page.slug),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:e.image}),r.a.createElement("span",null,e.page.name)):r.a.createElement(u.b,{to:"".concat("/app/").concat(e.page.slug),onClick:t=>this.openSubMenu(t,e),"data-flag":e.id},r.a.createElement("i",{className:e.image}),r.a.createElement("span",null,e.page.name)))))))),r.a.createElement("div",{className:"sub-menu"},r.a.createElement("div",{className:"scroll"},r.a.createElement(C.a,{options:{suppressScrollX:!0,wheelPropagation:!1}},l&&l.map(e=>r.a.createElement(Z.a,{key:e.id,className:R()({"d-block":this.state.selectedParentMenu===e.id&&""===this.state.viewingParentMenu||this.state.viewingParentMenu===e.id}),"data-parent":e.id},e.children&&e.children.map((e,t)=>r.a.createElement(X.a,{key:"".concat(e.id,"_").concat(t),className:"".concat(e.children&&e.children.length>0?"has-sub-item":"")},e.newWindow?r.a.createElement("a",{href:"".concat("/app/").concat(e.page.slug),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:e.image}),r.a.createElement("span",null,e.page.name)):e.children&&e.children.length>0?r.a.createElement(n.Fragment,null,r.a.createElement(u.b,{className:"rotate-arrow-icon opacity-50 ".concat(-1===s.indexOf("".concat(e.id,"_").concat(t))?"":"collapsed"),to:"".concat("/app/").concat(e.page.slug),id:"".concat(e.id,"_").concat(t),onClick:a=>this.toggleMenuCollapse(a,"".concat(e.id,"_").concat(t))},r.a.createElement("i",{className:"simple-icon-arrow-down"}),r.a.createElement("span",null,e.page.name)),r.a.createElement(G.a,{isOpen:-1===s.indexOf("".concat(e.id,"_").concat(t))},r.a.createElement(Z.a,{className:"third-level-menu"},e.children.map((e,a)=>r.a.createElement(X.a,{key:"".concat(e.id,"_").concat(t,"_").concat(a)},e.newWindow?r.a.createElement("a",{href:"".concat("/app/").concat(e.page.slug),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:e.image}),r.a.createElement("span",null,e.page.name)):r.a.createElement(u.b,{to:"".concat("/app/").concat(e.page.slug)},r.a.createElement("i",{className:e.image}),r.a.createElement("span",null,e.page.name))))))):r.a.createElement(u.b,{to:"".concat("/app/").concat(e.page.slug)},r.a.createElement("i",{className:e.image}),r.a.createElement("span",null,e.page.name))))))))))}}var Q=Object(s.g)(Object(l.b)(({authUser:e,menu:t})=>({token:e.token,baseURL:e.baseURL,clientID:e.clientID,loginUser:e.user,containerClassnames:t.containerClassnames,subHiddenBreakpoint:t.subHiddenBreakpoint,menuHiddenBreakpoint:t.menuHiddenBreakpoint,menuClickCount:t.menuClickCount,selectedMenuHasSubItems:t.selectedMenuHasSubItems}),{setContainerClassnames:p.G,addContainerClassname:p.v,changeDefaultClassnames:p.w,changeSelectedMenuHasSubItems:p.y})($));class ee extends n.Component{render(){const e=this.props.containerClassnames;return r.a.createElement("div",{id:"app-container",className:e},r.a.createElement(J,{history:this.props.history}),r.a.createElement(Q,null),r.a.createElement("main",null,r.a.createElement("div",{className:"container-fluid"},this.props.children)))}}var te=Object(s.g)(Object(l.b)(({menu:e})=>({containerClassnames:e.containerClassnames}),{})(ee));const ae=r.a.lazy(()=>a.e(3).then(a.bind(null,825))),ne=r.a.lazy(()=>a.e(5).then(a.bind(null,819)));class re extends n.Component{render(){const e=this.props.match;return r.a.createElement(te,null,r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{className:"loading"})},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"".concat(e.url,"/notifications"),render:e=>r.a.createElement(ne,e)}),r.a.createElement(s.b,{path:"".concat(e.url,"/:slug/:subSlug?"),render:e=>r.a.createElement(ae,e)})))))}}t.default=Object(s.g)(Object(l.b)(({authUser:e,menu:t})=>{const a=t.containerClassnames;return{token:e.token,containerClassnames:a}},{})(re))},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(1),r=a.n(n),s=a(334);const l=e=>r.a.createElement(s.a,Object.assign({},e,{widths:["xxs","xs","sm","md","lg","xl","xxl"]})),c=e=>r.a.createElement("div",{className:"separator ".concat(e.className)})},95:function(e,t,a){"use strict";var n=a(120),r=(a(114),a(115));a.d(t,"a",(function(){return r.a}));n.a},98:function(e,t,a){"use strict";var n=a(5),r=a(4),s=a.n(r),l=a(15),c=a(1),o=a.n(c),i=a(789),m=a(790),d=a(342),u=a(341),p=a(804),h=a(179),g=a(103),b=a(299),f=a(300),E=a(95),v=a(139),y=a(221),k=a(491),w=a.n(k);a(497),a(498);class N extends o.a.Component{render(){let e=this.props,t=e.className,a=e.field,n=e.form,r=e.onChange,s=e.onKeyUp,l=e.hidden,c=e.placeholder;return l?null:o.a.createElement(w.a,{name:a.name,value:a.value,mode:"json",theme:"xcode",editorProps:{$blockScrolling:!0},setOptions:{useWorker:!1},fontSize:14,width:"auto",height:"300px",className:t,showPrintMargin:!1,placeholder:c,onBlur:a.onBlur,onKeyUp:e=>s(e),onChange:e=>(n.setFieldValue(a.name,e),r(e))})}}var C=N,x=a(273),O=a(96),S=a(17);const j=(e,t)=>new Promise(function(){var a=Object(l.a)(s.a.mark((function a(n){var r,l,c,o,i,m,d,u;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.baseURL,l=t.token,c=t.clientID,o=t.element,i=t.match.params.slug,(m=new URLSearchParams).set("page_slug",i),m.set("elementID",o.elementID),m.set("elementType","wizard"),m.set("stepElementName","distributor"),m.set("client_id",c),m.set("searchInput",e),m=m.toString(),a.next=12,Object(S.a)("".concat(r,"/details?").concat(m),{type:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(l)}});case 12:if((d=a.sent).ok){a.next=15;break}return a.abrupt("return",E.a.error(d.statusText,"Oops! We got a problem.",3e3,null,null,""));case 15:return a.next=17,d.json();case 17:u=a.sent,setTimeout(()=>{let e=o.ddl.label,t=o.ddl.value,a=u.data.map((a,n)=>({key:n,label:a[e],value:a[t]}));n(a)},1e3);case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());class P extends o.a.Component{render(){let e=this.props,t=e.field,a=e.form,r=e.onChange,s=e.onKeyUp,l=e.hidden,c=e.match,i=e.element,m=e.baseURL,d=e.token,u=e.clientID;return l?null:o.a.createElement(x.a,{styles:{menu:(e,t)=>Object(n.a)(Object(n.a)({},e),{},{zIndex:1040})},allowCreateWhileLoading:!0,name:t.name,value:t.value,onBlur:t.onBlur,onKeyUp:e=>s(e),onChange:e=>(a.setFieldValue(t.name,e),r(e)),classNamePrefix:"react-select",isSearchable:!0,isClearable:!0,cacheOptions:!0,loadOptions:e=>j(e,{baseURL:m,token:d,clientID:u,match:c,element:i})})}}var _=Object(O.g)(P),I=a(323),A=a(787);class M extends o.a.Component{render(){let e=this.props,t=e.field,a=e.form,n=e.onChange,r=e.placeholder;return e.hidden?null:o.a.createElement(A.a,{id:t.id,name:t.name,value:t.value,onSelect:e=>(e=e.format("YYYY-MM-DD"),a.setFieldValue(t.name,e),n(e)),dateFormat:"YYYY-MM-DD",placeholderText:r})}}var z=M,L=a(204),D=a(85),T=a.n(D),R=a(25),F=a.n(R),B=a(212),U=a(831),H=a(807),Y=a(514),W=a.n(Y),V=a(23),K=a(271),q=a(335),J=a(794),Z=a(795),X=a(796),G=a(797),$=a(798),Q=a(92),ee=a(99),te=a(269);var ae=Object(g.d)(({intl:e,displayMode:t,changeDisplayMode:a,handleChangeSelectAll:n,changeOrderBy:r,changePageSize:s,selectedPageSize:l,totalItemCount:i,selectedOrderOption:m,match:d,startIndex:u,endIndex:p,selectedItemsLength:h,itemsLength:g,onSearchKey:b,orderOptions:f,pageSizes:E,toggleModal:v,heading:y})=>{const k=Object(c.useState)(!1),w=Object(K.a)(k,2),N=(w[0],w[1],Object(c.useState)(!1)),C=Object(K.a)(N,2),x=C[0],O=C[1];e.messages;return o.a.createElement(q.a,null,o.a.createElement(Q.a,{xxs:"12"},o.a.createElement("div",{className:"mb-2"},o.a.createElement("h1",null,"Browse Files"),o.a.createElement("div",{className:"text-zero top-right-button-container"},o.a.createElement(B.a,{color:"primary",size:"lg",className:"top-right-button",onClick:()=>v()},"Select"))),o.a.createElement("div",{className:"mb-2"},o.a.createElement(B.a,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:()=>O(!x)},o.a.createElement(ee.a,{id:"pages.display-options"})," ",o.a.createElement("i",{className:"simple-icon-arrow-down align-middle"})),o.a.createElement(J.a,{isOpen:x,className:"d-md-block",id:"displayOptions"},o.a.createElement("span",{className:"mr-3 d-inline-block float-md-left"},o.a.createElement("a",{href:"#/",className:"mr-2 view-icon ".concat("list"===t?"active":""),onClick:()=>a("list")},o.a.createElement(te.a,null)),o.a.createElement("a",{href:"#/",className:"mr-2 view-icon ".concat("thumblist"===t?"active":""),onClick:()=>a("thumblist")},o.a.createElement(te.e,null)),o.a.createElement("a",{href:"#/",className:"mr-2 view-icon ".concat("imagelist"===t?"active":""),onClick:()=>a("imagelist")},o.a.createElement(te.b,null))),o.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},o.a.createElement(Z.a,{className:"mr-1 float-md-left btn-group mb-1"},o.a.createElement(X.a,{caret:!0,color:"outline-dark",size:"xs"},o.a.createElement(ee.a,{id:"pages.orderby"}),m.label),o.a.createElement(G.a,null,f.map((e,t)=>o.a.createElement($.a,{key:t,onClick:()=>r(e.column)},e.label))))),o.a.createElement("div",{className:"float-md-right pt-1"},o.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(u,"-").concat(p," of ").concat(i," ")),o.a.createElement(Z.a,{className:"d-inline-block"},o.a.createElement(X.a,{caret:!0,color:"outline-dark",size:"xs"},l),o.a.createElement(G.a,{right:!0},E.map((e,t)=>o.a.createElement($.a,{key:t,onClick:()=>s(e)},e))))))),o.a.createElement(Q.b,{className:"mb-5"})))}),ne=a(799),re=a(800),se=a(801);var le=({totalPage:e=0,currentPage:t=1,numberLimit:a=5,lastIsActive:n=!0,firstIsActive:r=!0,onChangePage:s})=>{let l=1,c=a;a>e?(l=1,c=e):t<=parseInt(a/2,10)?(l=1,c=a):t+parseInt(a/2,10)<=e?(l=t-parseInt(a/2,10),c=t+parseInt(a/2,10)):(l=e-(a-1),c=e),l=0===l?1:l;const i=[];for(let o=l;o<=c;o+=1)i.push(o);const m=t<=1?"disabled":"",d=t>=e?"disabled":"",u=t<=1?"disabled":"",p=t>=e?"disabled":"";return e>1?o.a.createElement(Q.a,{xxs:"12",className:"mt-3 mb-3"},o.a.createElement(ne.a,{className:"pagination justify-content-center"},r&&o.a.createElement(re.a,{className:"page-item ".concat(m)},o.a.createElement(se.a,{className:"page-link first c-pointer",onClick:()=>s(1)},o.a.createElement("i",{className:"simple-icon-control-start"}))),o.a.createElement(re.a,{className:"page-item ".concat(u)},o.a.createElement(se.a,{className:"page-link prev c-pointer",onClick:()=>s(t-1)},o.a.createElement("i",{className:"simple-icon-arrow-left"}))),i.map(e=>o.a.createElement(re.a,{key:e,className:"page-item ".concat(t===e&&"active")},o.a.createElement(se.a,{className:"page-link c-pointer",onClick:()=>s(e)},e))),o.a.createElement(re.a,{className:"page-item ".concat(p)},o.a.createElement(se.a,{className:"page-link next c-pointer",onClick:()=>s(t+1)},o.a.createElement("i",{className:"simple-icon-arrow-right"}))),n&&o.a.createElement(re.a,{className:"page-item ".concat(d)},o.a.createElement(se.a,{className:"page-link last c-pointer",onClick:()=>s(e)},o.a.createElement("i",{className:"simple-icon-control-end"}))))):o.a.createElement(Q.a,{xxs:"12",className:"mt-2"})},ce=a(113);var oe=({onContextMenu:e,onContextMenuClick:t})=>o.a.createElement(ce.a,{id:"menu_id",onShow:t=>e(t,t.detail.data)},o.a.createElement(ce.c,{onClick:t,data:{action:"copy"}},o.a.createElement("i",{className:"simple-icon-docs"})," ",o.a.createElement("span",null,"Copy")),o.a.createElement(ce.c,{onClick:t,data:{action:"move"}},o.a.createElement("i",{className:"simple-icon-drawer"})," ",o.a.createElement("span",null,"Move to archive")),o.a.createElement(ce.c,{onClick:t,data:{action:"delete"}},o.a.createElement("i",{className:"simple-icon-trash"})," ",o.a.createElement("span",null,"Delete"))),ie=a(802),me=a(830);var de=o.a.memo(({product:e,isSelect:t,collect:a,onCheckItem:n})=>o.a.createElement(Q.a,{xxs:"12",className:"mb-3"},o.a.createElement(ce.b,{id:"menu_id",data:e.id,collect:a},o.a.createElement(u.a,{onClick:t=>n(t,e.title),className:T()("d-flex flex-row",{active:t})},o.a.createElement("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero"},o.a.createElement("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},o.a.createElement("a",{target:"_blank",href:e.url,className:"w-40 w-sm-100"},o.a.createElement("p",{className:"list-item-heading mb-1 truncate"},e.title)),o.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},e.category),o.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},e.date),o.a.createElement("div",{className:"w-15 w-sm-100"},o.a.createElement(ie.a,{color:e.statusColor,pill:!0},e.status))),o.a.createElement("div",{className:"custom-control custom-checkbox pl-1 align-self-center pr-4"},o.a.createElement(me.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(e.id),checked:t,onChange:()=>{},label:""}))))))),ue=a(803),pe=a(805),he=a(806);var ge=o.a.memo(({product:e,isSelect:t,collect:a,onCheckItem:n})=>o.a.createElement(Q.a,{sm:"6",lg:"4",xl:"3",className:"mb-3",key:e.id},o.a.createElement(ce.b,{id:"menu_id",data:e.id,collect:a},o.a.createElement(u.a,{onClick:t=>n(t,e.title),className:T()({active:t})},o.a.createElement("div",{className:"position-relative"},o.a.createElement("a",{href:e.url,target:"_blank",className:"w-40 w-sm-100"},o.a.createElement(ue.a,{top:!0,alt:e.title,src:e.thumbnail})),o.a.createElement(ie.a,{color:e.statusColor,pill:!0,className:"position-absolute badge-top-left"},e.status)),o.a.createElement(p.a,null,o.a.createElement(q.a,null,o.a.createElement(Q.a,{xxs:"2"},o.a.createElement(me.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(e.id),checked:t,onChange:()=>{},label:""})),o.a.createElement(Q.a,{xxs:"10",className:"mb-3"},o.a.createElement(pe.a,null,e.title),o.a.createElement(he.a,{className:"text-muted text-small mb-0 font-weight-light"},e.date)))))))),be=a(89);var fe=o.a.memo(({product:e,isSelect:t,collect:a,onCheckItem:n})=>o.a.createElement(Q.a,{xxs:"12",key:e.id,className:"mb-3"},o.a.createElement(ce.b,{id:"menu_id",data:e.id,collect:a},o.a.createElement(u.a,{onClick:t=>n(t,e.title),className:T()("d-flex flex-row",{active:t})},o.a.createElement("a",{href:e.url,target:"_blank",className:"d-flex"},o.a.createElement("img",{alt:e.title,src:e.thumbnail,className:"list-thumbnail responsive border-0 card-img-left"})),o.a.createElement("div",{className:"pl-2 d-flex flex-grow-1 min-width-zero"},o.a.createElement("div",{className:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},o.a.createElement(be.b,{to:"?p=".concat(e.id),className:"w-40 w-sm-100"},o.a.createElement("p",{className:"list-item-heading mb-1 truncate"},e.title)),o.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},e.category),o.a.createElement("p",{className:"mb-1 text-muted text-small w-15 w-sm-100"},e.date),o.a.createElement("div",{className:"w-15 w-sm-100"},o.a.createElement(ie.a,{color:e.statusColor,pill:!0},e.status))),o.a.createElement("div",{className:"custom-control custom-checkbox pl-1 align-self-center pr-4"},o.a.createElement(me.a,{className:"item-check mb-0",type:"checkbox",id:"check_".concat(e.id),checked:t,onChange:()=>{},label:""})))))));function Ee(e){return{data:e.data}}var ve=o.a.memo(({items:e,displayMode:t,selectedItems:a,onCheckItem:n,currentPage:r,totalPage:s,onContextMenuClick:l,onContextMenu:c,onChangePage:i})=>o.a.createElement(q.a,null,e.map(e=>"imagelist"===t?o.a.createElement(ge,{key:e.id,product:e,isSelect:a.includes(e.title),collect:Ee,onCheckItem:n}):"thumblist"===t?o.a.createElement(fe,{key:e.id,product:e,isSelect:a.includes(e.title),collect:Ee,onCheckItem:n}):o.a.createElement(de,{key:e.id,product:e,isSelect:a.includes(e.title),onCheckItem:n,collect:Ee})),o.a.createElement(le,{currentPage:r,totalPage:s,onChangePage:e=>i(e)}),o.a.createElement(oe,{onContextMenuClick:l,onContextMenu:c}))),ye=a(521),ke=a.n(ye),we=(e,t)=>{const a=Object(c.useRef)(null);a.current=t,Object(c.useEffect)(()=>(ke.a.bind(e,(e,t)=>{"function"===typeof a.current&&a.current(e,t),e.preventDefault()}),()=>{ke.a.unbind(e)}),[e])};const Ne=(e,t,a)=>{for(let n=0;n<t.length;n+=1)if(t[n][a]===e)return n;return-1},Ce=[{column:"name_asc",label:"Name (ASC)"},{column:"name_desc",label:"Name (DESC)"}],xe=[4,8,12,20];var Oe=Object(V.b)(({authUser:e})=>({token:e.token}),{})(({match:e,toggleModal:t,token:a,fileLibraryURL:n,returnValues:r})=>{const i=Object(c.useState)(!1),m=Object(K.a)(i,2),d=m[0],u=m[1],p=Object(c.useState)("imagelist"),h=Object(K.a)(p,2),g=h[0],b=h[1],f=Object(c.useState)(1),E=Object(K.a)(f,2),v=E[0],y=E[1],k=Object(c.useState)(8),w=Object(K.a)(k,2),N=w[0],C=w[1],x=Object(c.useState)({column:"name_asc",label:"Name (ASC)"}),O=Object(K.a)(x,2),S=O[0],j=O[1],P=Object(c.useState)(!1),_=Object(K.a)(P,2),I=(_[0],_[1],Object(c.useState)(0)),A=Object(K.a)(I,2),M=A[0],z=A[1],L=Object(c.useState)(1),D=Object(K.a)(L,2),T=D[0],R=D[1],B=Object(c.useState)(""),U=Object(K.a)(B,2),H=U[0],Y=U[1],W=Object(c.useState)([]),V=Object(K.a)(W,2),q=V[0],J=V[1],Z=Object(c.useState)([]),X=Object(K.a)(Z,2),G=X[0],$=X[1],Q=Object(c.useState)(null),ee=Object(K.a)(Q,2),te=ee[0],ne=ee[1];Object(c.useEffect)(()=>{y(1)},[N,S]),Object(c.useEffect)(()=>{function e(){return(e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get("".concat(n,"?pageSize=").concat(N,"&currentPage=").concat(v,"&orderBy=").concat(S.column,"&search=").concat(H),{headers:{Authorization:"Bearer ".concat(a)}}).then(e=>e.data).then(e=>{R(e.totalPage),$(e.data),J([]),z(e.totalItem),u(!0)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[N,v,S,H]);const re=e=>(q.length>=G.length?e&&J([]):J(G.map(e=>e.id)),document.activeElement.blur(),!1);we(["ctrl+a","command+a"],()=>{re(!1)}),we(["ctrl+d","command+d"],()=>(J([]),!1));const se=(v-1)*N,le=v*N;return d?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"disable-text-selection"},o.a.createElement(ae,{heading:"menu.image-list",displayMode:g,changeDisplayMode:b,handleChangeSelectAll:re,changeOrderBy:e=>{j(Ce.find(t=>t.column===e))},changePageSize:C,selectedPageSize:N,totalItemCount:M,selectedOrderOption:S,match:e,startIndex:se,endIndex:le,selectedItemsLength:q?q.length:0,itemsLength:G?G.length:0,onSearchKey:e=>{"Enter"===e.key&&Y(e.target.value.toLowerCase())},orderOptions:Ce,pageSizes:xe,toggleModal:()=>(r(q),t(!1))}),o.a.createElement(ve,{items:G,displayMode:g,selectedItems:q,onCheckItem:(e,t)=>{if("A"===e.target.tagName||e.target.parentElement&&"A"===e.target.parentElement.tagName)return!0;null===te&&ne(t);let a=[...q];if(a.includes(t)?a=a.filter(e=>e!==t):a.push(t),J(a),e.shiftKey){let e=[...G];const n=Ne(t,e,"id"),r=Ne(te,e,"id");e=e.slice(Math.min(n,r),Math.max(n,r)+1),q.push(...e.map(e=>e.id)),a=Array.from(new Set(q)),J(a)}return document.activeElement.blur(),!1},currentPage:v,totalPage:T,onContextMenuClick:(e,t)=>{console.log("onContextMenuClick - selected items",q),console.log("onContextMenuClick - action : ",t.action)},onContextMenu:(e,t)=>{const a=t.data;return q.includes(a)||J([a]),!0},onChangePage:y}))):o.a.createElement("div",{className:"loading"})});const Se=a(522),je=a(524),Pe={thumbnailHeight:160,previewTemplate:Se.renderToStaticMarkup(o.a.createElement("div",{className:"dz-preview dz-file-preview mb-3"},o.a.createElement("div",{className:"d-flex flex-row "},o.a.createElement("div",{className:"p-0 w-30 position-relative"},o.a.createElement("div",{className:"dz-error-mark"},o.a.createElement("span",null,o.a.createElement("i",null)," ")),o.a.createElement("div",{className:"dz-success-mark"},o.a.createElement("span",null,o.a.createElement("i",null))),o.a.createElement("div",{className:"preview-container"},o.a.createElement("img",{"data-dz-thumbnail":!0,className:"img-thumbnail border-0"}),o.a.createElement("i",{className:"simple-icon-doc preview-icon"}))),o.a.createElement("div",{className:"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative"},o.a.createElement("div",null," ",o.a.createElement("span",{"data-dz-name":!0})," "),o.a.createElement("div",{className:"text-primary text-extra-small","data-dz-size":!0}),o.a.createElement("div",{className:"dz-progress"},o.a.createElement("span",{className:"dz-upload","data-dz-uploadprogress":!0})),o.a.createElement("div",{className:"dz-error-message"},o.a.createElement("span",{"data-dz-errormessage":!0})))),o.a.createElement("a",{href:"#/",className:"remove","data-dz-remove":!0}," ",o.a.createElement("i",{className:"glyph-icon simple-icon-trash"})," ")))};class _e extends o.a.Component{constructor(...e){var t;super(...e),t=this,this.fileLibraryURL="".concat("http","://").concat("80.211.143.248",":").concat("1000"),this.attributes={multiple:!0,dictDefaultMessage:"Select a file"},this.state={selectedItems:[],isOpen:!1,fetchingUploads:!1},this.toggle=Object(l.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state.isOpen,t.setState({isOpen:!a,fetchingUploads:!a},Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.isOpen){e.next=4;break}return e.next=3,t.fetchUploads();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))),this.handleSelectedItems=function(){var e=Object(l.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.props,r=n.form,l=n.field,r.setFieldValue(l.name,a),t.dropzone&&a.forEach(e=>{const a={name:e,upload:{filename:e}};t.dropzone.emit("addedfile",a)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renderLibraryContent=()=>this.state.fetchingUploads?o.a.createElement("div",null,"Loading..."):o.a.createElement(Oe,{fileLibraryURL:this.fileLibraryURL,toggleModal:e=>this.setState({isOpen:e}),returnValues:e=>this.handleSelectedItems(e)}),this.fetchUploads=Object(l.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.a)(t.fileLibraryURL,{headers:{Authorization:"Bearer ".concat(t.props.token)}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,a.ok){e.next=9;break}throw new Error(n.message||"An error occurred while fetching uploads.");case 9:return e.abrupt("return",t.setState({fetchingUploads:!1,uploads:n.uploads}));case 12:e.prev=12,e.t0=e.catch(0),E.a.error("Failed to fetch uploads.","Error",3e3,null,1,null);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))}clear(){this.dropzone.removeAllFiles(!0)}render(){var e=this;let t=this.props,a=t.name,r=(t.field,t.form,t.initialImages),c=t.hidden;const i=this.state.isOpen,m=o.a.createElement("button",{className:"close right-modal-external-close-button",onClick:Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.toggle();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},"\xd7");return c?null:o.a.createElement("div",null,o.a.createElement(W.a,{className:"mb-3",config:{postUrl:this.fileLibraryURL},djsConfig:Object(n.a)(Object(n.a)({},Pe),{},{headers:{Authorization:"Bearer ".concat(this.props.token)},paramName:a,renameFile:function(e){const t=je.extension(e.type);return e.name.slice(0,4)+Date.now()+"."+t},uploadMultiple:this.attributes.multiple||!1,maxFilesize:this.attributes.maxFileSize||void 0,maxFiles:this.attributes.maxFiles||void 0,dictDefaultMessage:this.attributes.dictDefaultMessage||void 0,acceptedFiles:this.attributes.allowedExtensions}),eventHandlers:{success:(e,t)=>{const a=this.props,n=a.form,r=a.field,s=[...this.state.selectedItems,...t.files.map(e=>e.url)];return n.setFieldValue(r.name,s),this.setState({selectedItems:s})},init:function(){var t=Object(l.a)(s.a.mark((function t(a){var n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dropzone=a,""===r){t.next=6;break}return t.next=4,F()({url:r,type:"GET"});case 4:200===(n=t.sent).status&&(c={name:r,size:n.headers["content-length"],upload:{filename:r}},a.emit("addedfile",c),a.options.thumbnail.call(a,c,r));case 6:e.dropzone.on("removedfile",function(){var t=Object(l.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F()({method:"DELETE",url:e.fileLibraryURL,data:{name:a.upload.filename}});case 2:if(201===(n=t.sent).status){t.next=5;break}return t.abrupt("return",console.error(n.data.message));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.dropzone.on("removedfile",function(){var t=Object(l.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F()({method:"DELETE",url:e.fileLibraryURL,data:{name:a.upload.filename}});case 2:if(201===(n=t.sent).status){t.next=5;break}return t.abrupt("return",console.error(n.data.message));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),o.a.createElement("hr",null),o.a.createElement("div",{className:"text-right"},o.a.createElement(B.a,{color:"primary",onClick:()=>this.toggle()},"Browse Files")),o.a.createElement(U.a,{isOpen:i,fade:!1,toggle:()=>this.toggle(),modalClassName:"modal-right",external:m},o.a.createElement(H.a,null,this.renderLibraryContent())))}}var Ie=Object(V.b)(({authUser:e})=>({token:e.token}),{})(_e);class Ae extends c.Component{constructor(e){super(e),this.currentStepData={};const t=this.props.component;this.onClickNext=this.onClickNext.bind(this),this.onClickPrev=this.onClickPrev.bind(this),t.steps.forEach(e=>this["form".concat(e.id)]=o.a.createRef());const a=t.steps.map(e=>e.elements.map(t=>({form:this["form".concat(e.id)],valid:!1,name:t.name,value:""}))).flat();this.state={bottomNavHidden:!1,topNavDisabled:!1,loading:!0,processing:!1,currentStepData:{},redirect:null,fields:a}}componentDidMount(){var e=this;return Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initialization();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}initialization(){var e=this;return Object(l.a)(s.a.mark((function t(){var a,r,l,c,o,i,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,r=a.user,l=a.baseURL,c=a.clientID,o=a.token,i=a.customData,!(m=a.component.initialAction)){t.next=5;break}return t.next=4,Object(S.a)("".concat(l,"/validateWizardStep"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({data:i||null,action:m,client_id:c,user_id:r.id})}).then(e=>e.json()).then(t=>{if("OK"!==t.outcome)throw new Error(t.message);if(t.data)return e.setState({loading:!1,currentStepData:Object(n.a)(Object(n.a)({},e.state.currentStepData),t.data)}),e.forceUpdate()}).catch(t=>(e.props.callback(!0),E.a.error(t.message,"Oops! We got a problem.",3e3,null,null,"")));case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",e.setState({loading:!1}));case 6:case"end":return t.stop()}}),t)})))()}validate(e,t,a){let n;return a.forEach(a=>{let r=a.split(":");"required"===r[0]&&(Array.isArray(t)?0===t.length&&(n="Please enter ".concat(e)):t||(n="Please enter ".concat(e))),"maxLength"===r[0]&&t.length>r[1]&&(n="".concat(e," cannot be longer than ").concat(r[1]," characters."))}),n}hideNavigation(){this.setState({bottomNavHidden:!0,topNavDisabled:!0})}asyncLoading(){this.setState({loading:!0}),setTimeout(()=>{this.setState({loading:!1})},3e3)}onClickNext(e,t,a){var n=this;const r=this.props,c=r.user,o=r.baseURL,i=r.token,m=r.clientID,d=r.callback,u=this.state,p=u.fields,h=u.redirect;let g=this["form".concat(a.id)].current,b=p.filter(e=>e.form===this["form".concat(a.id)]);g.submitForm().then(Object(l.a)(s.a.mark((function r(){var l,u,f,v,y;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(b.forEach(e=>{let t=e.name;g.validateField(t).then(e=>{if(void 0!==e)return g.setFieldTouched(t,!0,!0)}).catch(e=>console.trace(e)),e.value=g.state.values[t],e.valid=!g.state.errors[t],n.setState({fields:[...new Set([...p,e])]})}),b.map(e=>e.valid).includes(!1)){r.next=38;break}if(l=b.map(e=>[e.name,e.value]),!(t.length-1<=t.indexOf(a))){r.next=10;break}if(!h&&!a.redirect){r.next=10;break}return u=h||a.redirect,f=Object.fromEntries(l),Object.keys(f).forEach(e=>{f.hasOwnProperty(e)&&(u=u.replace(new RegExp(e,"g"),f[e]))}),r.abrupt("return",n.props.history.push("/app".concat(u)));case 10:if(a.action){r.next=14;break}if(t.indexOf(a)!==t.length-1){r.next=14;break}if(!d){r.next=14;break}return r.abrupt("return",d());case 14:return r.prev=14,n.setState({processing:!0}),r.next=18,Object(S.a)("".concat(o,"/validateWizardStep"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({data:Object.fromEntries(l),action:a.action,client_id:m,user_id:c.id})});case 18:return v=r.sent,r.next=21,v.json();case 21:if(y=r.sent,v.ok){r.next=25;break}throw n.setState({processing:!1}),y;case 25:if("OK"===y.outcome){r.next=28;break}return n.setState({processing:!1}),r.abrupt("return",E.a.warning(y.message,"Oops! We got a problem.",3e3,null,null,""));case 28:if(!y.redirectIsExternal){r.next=30;break}return r.abrupt("return",window.location=y.redirect);case 30:n.setState({currentStepData:y.data||{},redirect:y.redirect||null,processing:!1}),a.isDone=!0,e(),r.next=38;break;case 35:return r.prev=35,r.t0=r.catch(14),r.abrupt("return",E.a.error(r.t0.message,"Oops! We got a problem.",3e3,null,null,""));case 38:if(t.indexOf(a)!==t.length-1){r.next=41;break}if(!d){r.next=41;break}return r.abrupt("return",d());case 41:case"end":return r.stop()}}),r,null,[[14,35]])}))))}onClickPrev(e,t,a){var n=this;return Object(l.a)(s.a.mark((function r(){var l,c,o,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:return a=t[t.indexOf(a)-1],l=n.state.fields,c=n["form".concat(a.id)].current,o=l.filter(e=>e.form===n["form".concat(a.id)]),i=o.map(e=>{let t=e.name;return e.valid=!c.state.errors[t],e}),r.abrupt("return",n.setState({fields:[...new Set([...l,...i])]}));case 8:case"end":return r.stop()}}),r)})))()}getSteps(e,t){const a=this.props,n=a.baseURL,r=a.token,s=a.clientID,l=a.user,c=this.state.processing;return o.a.createElement(h.Steps,null,e.map((e,a)=>o.a.createElement(h.Step,{key:a,id:e.id,redirect:e.redirect,action:e.action,name:e.title,desc:e.description},o.a.createElement("div",{className:"wizard-basic-step"},o.a.createElement(v.c,{ref:this["form".concat(e.id)],initialValues:t,onSubmit:()=>null},({errors:a,touched:d})=>o.a.createElement(v.b,{className:"av-tooltip tooltip-label-right"},c?o.a.createElement("div",{className:"loading-backdrop"},o.a.createElement("div",{className:"loading position-static"})):null,e.elements.map((e,c)=>{const u=e.type,p=e.component,h=e.isHidden;if("textContent"===u)return o.a.createElement("h2",{key:c,className:"py-2 text-center"},t[e.name]||e.value);if("component"===u){const m=p.id,u=p.functions,g=p.type;if("productList"===g)return o.a.createElement(i.a,{key:c},o.a.createElement(v.a,{className:"form-control",id:m,baseURL:n,token:r,clientID:s,user:l,name:e.name,hidden:h,component:L.n,dynamicComponent:p,functions:u,data:t[e.name],onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]));if("productCardList"===g)return o.a.createElement(i.a,{key:c},o.a.createElement(v.a,{className:"form-control",id:m,baseURL:n,token:r,clientID:s,user:l,name:e.name,hidden:h,component:L.l,inWizard:!0,hideShadow:!0,dynamicComponent:p,functions:u,data:t[e.name],onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]))}if("searchableDDL"===u){let t=e.ddl.label,l=e.ddl.value,u=e.data.map((e,a)=>({key:a,label:e[t],value:e[l]}));return o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,element:e,hidden:h,component:_,baseURL:n,token:r,clientID:s,options:u,onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]))}if("staticDDL"===u){let t=e.ddl.label,n=e.ddl.value,r=e.data.map((e,a)=>({key:a,label:e[t],value:e[n]}));return o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,hidden:h,component:y.a,options:r,onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]))}if("predefinedDDL"===u){let t=e.ddl.label,n=e.ddl.value,r=e.data.map((e,a)=>({key:a,label:e[t],value:e[n]}));return o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,hidden:h,component:I.a,options:r,onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]))}if("ddl"===u){let n=[...t.hasOwnProperty(e.name)?t[e.name]:[]];return o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,hidden:h,component:y.a,options:n,onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]))}return"json"===u?o.a.createElement(i.a,{className:"has-float-label",key:c},o.a.createElement(v.a,{className:T()("form-control",{"d-none":h}),name:e.name,id:e.name,component:C,placeholder:e.label,onChange:t=>this.validate(e.label,JSON.stringify(t),e.validationRules),validate:t=>this.validate(e.label,JSON.stringify(t),e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name])):"media"===u?o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:T()("form-control",{"d-none":h}),name:e.name,id:e.name,component:Ie,validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name])):"textarea"===u?o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:T()("form-control",{"d-none":h}),name:e.name,id:e.name,component:"textarea",rows:3,validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name])):"password"===u?o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,type:h?"hidden":"password",validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name])):"date"===u?o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,hidden:h,component:z,onChange:t=>this.validate(e.label,t,e.validationRules),validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name])):o.a.createElement(i.a,{className:"has-float-label",key:c},h?null:o.a.createElement(m.a,{for:e.name},e.label),o.a.createElement(v.a,{className:"form-control",name:e.name,id:e.name,type:h?"hidden":"text",validate:t=>this.validate(e.label,t,e.validationRules)}),a[e.name]&&d[e.name]&&o.a.createElement("div",{className:"invalid-feedback d-block"},a[e.name]))})))))))}showTitle(){const e=this.props.component.componentTitle;if(e)return o.a.createElement(d.a,{className:"mb-0"},e)}render(){const e=this.props,t=e.customData,a=e.component,r=a.hideSteps,s=a.hideBottomNavigation,l=a.steps;let c,i=this.state,m=i.loading,d=i.processing,g=i.currentStepData;return m?o.a.createElement("div",{className:"loading"}):(c=t?Object(n.a)(Object(n.a)({},g),t):Object(n.a)({},g),o.a.createElement(u.a,{className:"my-5"},o.a.createElement(p.a,{className:"wizard wizard-default"},this.showTitle(),o.a.createElement(h.Wizard,null,r?null:o.a.createElement(f.a,{className:"justify-content-center",disableNav:!0}),this.getSteps(l,c),s?null:o.a.createElement(b.a,{processing:d,onClickNext:this.onClickNext,onClickPrev:this.onClickPrev,className:"justify-content-center "+(this.state.bottomNavHidden&&"invisible"),prevLabel:"Back",nextLabel:"Next"})))))}}t.a=Object(O.g)(Object(g.d)(Ae))},99:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(103);t.a=Object(s.d)(e=>r.a.createElement(s.a,e),{withRef:!1})}}]);
//# sourceMappingURL=views-app.3e7679fe.chunk.js.map